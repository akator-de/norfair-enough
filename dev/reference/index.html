
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../getting_started/">
      
      
        <link rel="next" href="tracker/">
      
      
        
      
      
      <link rel="icon" href="../img/icon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Reference - norfair-enough</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="norfair-enough" class="md-header__button md-logo" aria-label="norfair-enough" data-md-component="logo">
      
  <img src="../img/logo-dark.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            norfair-enough
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/akator-de/norfair-enough" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    akator-de/norfair-enough
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../getting_started/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="norfair-enough" class="md-nav__button md-logo" aria-label="norfair-enough" data-md-component="logo">
      
  <img src="../img/logo-dark.svg" alt="logo">

    </a>
    norfair-enough
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/akator-de/norfair-enough" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    akator-de/norfair-enough
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#norfair" class="md-nav__link">
    <span class="md-ellipsis">
      
        norfair
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.ScalarDistance" class="md-nav__link">
    <span class="md-ellipsis">
      
        ScalarDistance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ScalarDistance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.ScalarDistance.get_distances" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_distances
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.ScipyDistance" class="md-nav__link">
    <span class="md-ellipsis">
      
        ScipyDistance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.VectorizedDistance" class="md-nav__link">
    <span class="md-ellipsis">
      
        VectorizedDistance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VectorizedDistance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.VectorizedDistance.get_distances" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_distances
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.AbsolutePaths" class="md-nav__link">
    <span class="md-ellipsis">
      
        AbsolutePaths
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Color" class="md-nav__link">
    <span class="md-ellipsis">
      
        Color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Drawable" class="md-nav__link">
    <span class="md-ellipsis">
      
        Drawable
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.FixedCamera" class="md-nav__link">
    <span class="md-ellipsis">
      
        FixedCamera
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FixedCamera">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.FixedCamera.adjust_frame" class="md-nav__link">
    <span class="md-ellipsis">
      
        adjust_frame
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Palette" class="md-nav__link">
    <span class="md-ellipsis">
      
        Palette
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Palette">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.Palette.set" class="md-nav__link">
    <span class="md-ellipsis">
      
        set
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Palette.set_default_color" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_default_color
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Paths
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paths">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.Paths.draw" class="md-nav__link">
    <span class="md-ellipsis">
      
        draw
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.FilterPyKalmanFilterFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        FilterPyKalmanFilterFactory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FilterPyKalmanFilterFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.FilterPyKalmanFilterFactory.create_filter" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_filter
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.NoFilterFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoFilterFactory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.OptimizedKalmanFilterFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        OptimizedKalmanFilterFactory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Tracker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracker
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.current_object_count" class="md-nav__link">
    <span class="md-ellipsis">
      
        current_object_count
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.total_object_count" class="md-nav__link">
    <span class="md-ellipsis">
      
        total_object_count
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.update" class="md-nav__link">
    <span class="md-ellipsis">
      
        update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.get_active_objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_active_objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.match_dets_and_objs" class="md-nav__link">
    <span class="md-ellipsis">
      
        match_dets_and_objs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Video" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.Video.write" class="md-nav__link">
    <span class="md-ellipsis">
      
        write
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Video.show" class="md-nav__link">
    <span class="md-ellipsis">
      
        show
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Video.get_output_file_path" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_output_file_path
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Video.abbreviate_description" class="md-nav__link">
    <span class="md-ellipsis">
      
        abbreviate_description
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.create_keypoints_voting_distance" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_keypoints_voting_distance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.create_normalized_mean_euclidean_distance" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_normalized_mean_euclidean_distance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.frobenius" class="md-nav__link">
    <span class="md-ellipsis">
      
        frobenius
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.get_distance_by_name" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_distance_by_name
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.iou" class="md-nav__link">
    <span class="md-ellipsis">
      
        iou
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.mean_euclidean" class="md-nav__link">
    <span class="md-ellipsis">
      
        mean_euclidean
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.mean_manhattan" class="md-nav__link">
    <span class="md-ellipsis">
      
        mean_manhattan
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.draw_absolute_grid" class="md-nav__link">
    <span class="md-ellipsis">
      
        draw_absolute_grid
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.draw_tracked_boxes" class="md-nav__link">
    <span class="md-ellipsis">
      
        draw_tracked_boxes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.draw_tracked_objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        draw_tracked_objects
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.get_cutout" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_cutout
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.print_objects_as_table" class="md-nav__link">
    <span class="md-ellipsis">
      
        print_objects_as_table
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tracker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tracker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="drawing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Drawing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Video
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="distances/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Distances
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="camera_motion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Camera Motion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#norfair" class="md-nav__link">
    <span class="md-ellipsis">
      
        norfair
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.ScalarDistance" class="md-nav__link">
    <span class="md-ellipsis">
      
        ScalarDistance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ScalarDistance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.ScalarDistance.get_distances" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_distances
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.ScipyDistance" class="md-nav__link">
    <span class="md-ellipsis">
      
        ScipyDistance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.VectorizedDistance" class="md-nav__link">
    <span class="md-ellipsis">
      
        VectorizedDistance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VectorizedDistance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.VectorizedDistance.get_distances" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_distances
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.AbsolutePaths" class="md-nav__link">
    <span class="md-ellipsis">
      
        AbsolutePaths
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Color" class="md-nav__link">
    <span class="md-ellipsis">
      
        Color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Drawable" class="md-nav__link">
    <span class="md-ellipsis">
      
        Drawable
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.FixedCamera" class="md-nav__link">
    <span class="md-ellipsis">
      
        FixedCamera
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FixedCamera">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.FixedCamera.adjust_frame" class="md-nav__link">
    <span class="md-ellipsis">
      
        adjust_frame
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Palette" class="md-nav__link">
    <span class="md-ellipsis">
      
        Palette
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Palette">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.Palette.set" class="md-nav__link">
    <span class="md-ellipsis">
      
        set
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Palette.set_default_color" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_default_color
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Paths" class="md-nav__link">
    <span class="md-ellipsis">
      
        Paths
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paths">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.Paths.draw" class="md-nav__link">
    <span class="md-ellipsis">
      
        draw
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.FilterPyKalmanFilterFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        FilterPyKalmanFilterFactory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FilterPyKalmanFilterFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.FilterPyKalmanFilterFactory.create_filter" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_filter
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.NoFilterFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoFilterFactory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.OptimizedKalmanFilterFactory" class="md-nav__link">
    <span class="md-ellipsis">
      
        OptimizedKalmanFilterFactory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Tracker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tracker
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.current_object_count" class="md-nav__link">
    <span class="md-ellipsis">
      
        current_object_count
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.total_object_count" class="md-nav__link">
    <span class="md-ellipsis">
      
        total_object_count
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.update" class="md-nav__link">
    <span class="md-ellipsis">
      
        update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.get_active_objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_active_objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Tracker.match_dets_and_objs" class="md-nav__link">
    <span class="md-ellipsis">
      
        match_dets_and_objs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.Video" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#norfair.Video.write" class="md-nav__link">
    <span class="md-ellipsis">
      
        write
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Video.show" class="md-nav__link">
    <span class="md-ellipsis">
      
        show
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Video.get_output_file_path" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_output_file_path
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#norfair.Video.abbreviate_description" class="md-nav__link">
    <span class="md-ellipsis">
      
        abbreviate_description
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.create_keypoints_voting_distance" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_keypoints_voting_distance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.create_normalized_mean_euclidean_distance" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_normalized_mean_euclidean_distance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.frobenius" class="md-nav__link">
    <span class="md-ellipsis">
      
        frobenius
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.get_distance_by_name" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_distance_by_name
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.iou" class="md-nav__link">
    <span class="md-ellipsis">
      
        iou
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.mean_euclidean" class="md-nav__link">
    <span class="md-ellipsis">
      
        mean_euclidean
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.mean_manhattan" class="md-nav__link">
    <span class="md-ellipsis">
      
        mean_manhattan
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.draw_absolute_grid" class="md-nav__link">
    <span class="md-ellipsis">
      
        draw_absolute_grid
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.draw_tracked_boxes" class="md-nav__link">
    <span class="md-ellipsis">
      
        draw_tracked_boxes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.draw_tracked_objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        draw_tracked_objects
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.get_cutout" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_cutout
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#norfair.print_objects_as_table" class="md-nav__link">
    <span class="md-ellipsis">
      
        print_objects_as_table
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">#</a></h1>


<div class="doc doc-object doc-module">



<a id="norfair"></a>
    <div class="doc doc-contents first">

        <p>A customizable lightweight Python library for real-time multi-object tracking.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">norfair</span><span class="w"> </span><span class="kn">import</span> <span class="n">Detection</span><span class="p">,</span> <span class="n">Tracker</span><span class="p">,</span> <span class="n">Video</span><span class="p">,</span> <span class="n">draw_tracked_objects</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detector</span> <span class="o">=</span> <span class="n">MyDetector</span><span class="p">()</span>  <span class="c1"># Set up a detector</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">video</span> <span class="o">=</span> <span class="n">Video</span><span class="p">(</span><span class="n">input_path</span><span class="o">=</span><span class="s2">&quot;video.mp4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tracker</span> <span class="o">=</span> <span class="n">Tracker</span><span class="p">(</span><span class="n">distance_function</span><span class="o">=</span><span class="s2">&quot;euclidean&quot;</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">video</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">detections</span> <span class="o">=</span> <span class="n">detector</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">norfair_detections</span> <span class="o">=</span> <span class="p">[</span><span class="n">Detection</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span class="k">for</span> <span class="n">points</span> <span class="ow">in</span> <span class="n">detections</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">tracked_objects</span> <span class="o">=</span> <span class="n">tracker</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">detections</span><span class="o">=</span><span class="n">norfair_detections</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">draw_tracked_objects</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">tracked_objects</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">video</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="norfair.ScalarDistance" class="doc doc-heading">
            <code>ScalarDistance</code>


<a href="#norfair.ScalarDistance" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Distance (norfair.distances.Distance)" href="distances/#norfair.distances.Distance">Distance</a></code></p>



        <p>ScalarDistance class represents a distance that is calculated pointwise.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>distance_function</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="collections.abc.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a>, <a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>], <span title="float">float</span>], <span title="collections.abc.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>, <a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>], <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance function used to determine the pointwise distance between new candidates and objects.
This function should take 2 input arguments, the first being a <code>Union[Detection, TrackedObject]</code>,
and the second <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>. It has to return a <code>float</code> with the distance it calculates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/distances.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ScalarDistance</span><span class="p">(</span><span class="n">Distance</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ScalarDistance class represents a distance that is calculated pointwise.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    distance_function : Union[Callable[[&quot;Detection&quot;, &quot;TrackedObject&quot;], float], Callable[[&quot;TrackedObject&quot;, &quot;TrackedObject&quot;], float]]</span>
<span class="sd">        Distance function used to determine the pointwise distance between new candidates and objects.</span>
<span class="sd">        This function should take 2 input arguments, the first being a `Union[Detection, TrackedObject]`,</span>
<span class="sd">        and the second [TrackedObject][norfair.tracker.TrackedObject]. It has to return a `float` with the distance it calculates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@overload</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">],</span>
    <span class="p">):</span> <span class="o">...</span>

    <span class="nd">@overload</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">,</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">],</span>
    <span class="p">):</span> <span class="o">...</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">]</span>
        <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">,</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">],</span>
    <span class="p">):</span>
        <span class="c1"># Store the function; at runtime both signatures work since the actual types</span>
        <span class="c1"># are compatible (duck typing)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="n">distance_function</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_distances</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span>
        <span class="n">candidates</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;Candidate&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method that calculates the distances between new candidates and objects.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objects : Sequence[TrackedObject]</span>
<span class="sd">            Sequence of [TrackedObject][norfair.tracker.TrackedObject] to be compared with potential [Detection][norfair.tracker.Detection] or [TrackedObject][norfair.tracker.TrackedObject]</span>
<span class="sd">            candidates.</span>
<span class="sd">        candidates : Union[List[Detection], List[TrackedObject]], optional</span>
<span class="sd">            List of candidates ([Detection][norfair.tracker.Detection] or [TrackedObject][norfair.tracker.TrackedObject]) to be compared to [TrackedObject][norfair.tracker.TrackedObject].</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            A matrix containing the distances between objects and candidates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">objects</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="c1"># Handle None or empty cases</span>
            <span class="n">num_candidates</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="k">if</span> <span class="n">candidates</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
                <span class="p">(</span><span class="n">num_candidates</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)),</span>
                <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
                <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">distance_matrix</span>

        <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
            <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)),</span>
            <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
            <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">candidates</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">o</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">objects</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">candidate</span><span class="o">.</span><span class="n">label</span> <span class="o">!=</span> <span class="n">obj</span><span class="o">.</span><span class="n">label</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">candidate</span><span class="o">.</span><span class="n">label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">There are detections with and without label!&quot;</span><span class="p">)</span>
                    <span class="k">continue</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span><span class="p">(</span><span class="n">candidate</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
                <span class="n">distance_matrix</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="n">o</span><span class="p">]</span> <span class="o">=</span> <span class="n">distance</span>
        <span class="k">return</span> <span class="n">distance_matrix</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="norfair.ScalarDistance.get_distances" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_distances</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">candidates</span><span class="p">)</span></code>

<a href="#norfair.ScalarDistance.get_distances" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Method that calculates the distances between new candidates and objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>objects</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sequence of <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a> to be compared with potential <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.Detection">Detection</a> or <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>
candidates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>candidates</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="List">List</span>[<a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a>], <span title="List">List</span>[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of candidates (<a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.Detection">Detection</a> or <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>) to be compared to <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A matrix containing the distances between objects and candidates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_distances</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span>
    <span class="n">candidates</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;Candidate&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method that calculates the distances between new candidates and objects.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    objects : Sequence[TrackedObject]</span>
<span class="sd">        Sequence of [TrackedObject][norfair.tracker.TrackedObject] to be compared with potential [Detection][norfair.tracker.Detection] or [TrackedObject][norfair.tracker.TrackedObject]</span>
<span class="sd">        candidates.</span>
<span class="sd">    candidates : Union[List[Detection], List[TrackedObject]], optional</span>
<span class="sd">        List of candidates ([Detection][norfair.tracker.Detection] or [TrackedObject][norfair.tracker.TrackedObject]) to be compared to [TrackedObject][norfair.tracker.TrackedObject].</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        A matrix containing the distances between objects and candidates.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">objects</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">candidates</span><span class="p">:</span>
        <span class="c1"># Handle None or empty cases</span>
        <span class="n">num_candidates</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="k">if</span> <span class="n">candidates</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
            <span class="p">(</span><span class="n">num_candidates</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)),</span>
            <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
            <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">distance_matrix</span>

    <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
        <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)),</span>
        <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
        <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">candidates</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">o</span><span class="p">,</span> <span class="n">obj</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">objects</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">candidate</span><span class="o">.</span><span class="n">label</span> <span class="o">!=</span> <span class="n">obj</span><span class="o">.</span><span class="n">label</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">candidate</span><span class="o">.</span><span class="n">label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">There are detections with and without label!&quot;</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span><span class="p">(</span><span class="n">candidate</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
            <span class="n">distance_matrix</span><span class="p">[</span><span class="n">c</span><span class="p">,</span> <span class="n">o</span><span class="p">]</span> <span class="o">=</span> <span class="n">distance</span>
    <span class="k">return</span> <span class="n">distance_matrix</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.ScipyDistance" class="doc doc-heading">
            <code>ScipyDistance</code>


<a href="#norfair.ScipyDistance" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="VectorizedDistance (norfair.distances.VectorizedDistance)" href="distances/#norfair.distances.VectorizedDistance">VectorizedDistance</a></code></p>



        <p>ScipyDistance class extends VectorizedDistance for the use of Scipy's vectorized distances.</p>
<p>This class uses <code>scipy.spatial.distance.cdist</code> to calculate distances between two <code>np.ndarray</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>metric</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Defines the specific Scipy metric to use to calculate the pairwise distances between
new candidates and objects.</p>
              </div>
            </td>
            <td>
                  <code>&#39;euclidean&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>Other</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p><a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cdist.html"><code>scipy.spatial.distance.cdist</code></a></p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/distances.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ScipyDistance</span><span class="p">(</span><span class="n">VectorizedDistance</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ScipyDistance class extends VectorizedDistance for the use of Scipy&#39;s vectorized distances.</span>

<span class="sd">    This class uses `scipy.spatial.distance.cdist` to calculate distances between two `np.ndarray`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    metric : str, optional</span>
<span class="sd">        Defines the specific Scipy metric to use to calculate the pairwise distances between</span>
<span class="sd">        new candidates and objects.</span>

<span class="sd">    Other kwargs are passed through to cdist</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    [`scipy.spatial.distance.cdist`](https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cdist.html)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;euclidean&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">=</span> <span class="n">metric</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">distance_function</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="n">cdist</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.VectorizedDistance" class="doc doc-heading">
            <code>VectorizedDistance</code>


<a href="#norfair.VectorizedDistance" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Distance (norfair.distances.Distance)" href="distances/#norfair.distances.Distance">Distance</a></code></p>



        <p>VectorizedDistance class represents a distance that is calculated in a vectorized way. This means
that instead of going through every pair and explicitly calculating its distance, VectorizedDistance
uses the entire vectors to compare to each other in a single operation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>distance_function</code>
            </td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[<span title="numpy.ndarray">ndarray</span>, <span title="numpy.ndarray">ndarray</span>], <span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance function used to determine the distances between new candidates and objects.
This function should take 2 input arguments, the first being a <code>np.ndarray</code> and the second
<code>np.ndarray</code>. It has to return a <code>np.ndarray</code> with the distance matrix it calculates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/distances.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">VectorizedDistance</span><span class="p">(</span><span class="n">Distance</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    VectorizedDistance class represents a distance that is calculated in a vectorized way. This means</span>
<span class="sd">    that instead of going through every pair and explicitly calculating its distance, VectorizedDistance</span>
<span class="sd">    uses the entire vectors to compare to each other in a single operation.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    distance_function : Callable[[np.ndarray, np.ndarray], np.ndarray]</span>
<span class="sd">        Distance function used to determine the distances between new candidates and objects.</span>
<span class="sd">        This function should take 2 input arguments, the first being a `np.ndarray` and the second</span>
<span class="sd">        `np.ndarray`. It has to return a `np.ndarray` with the distance matrix it calculates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span> <span class="o">=</span> <span class="n">distance_function</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_distances</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span>
        <span class="n">candidates</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;Candidate&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method that calculates the distances between new candidates and objects.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        objects : Sequence[TrackedObject]</span>
<span class="sd">            Sequence of [TrackedObject][norfair.tracker.TrackedObject] to be compared with potential [Detection][norfair.tracker.Detection] or [TrackedObject][norfair.tracker.TrackedObject]</span>
<span class="sd">            candidates.</span>
<span class="sd">        candidates : Union[List[Detection], List[TrackedObject]], optional</span>
<span class="sd">            List of candidates ([Detection][norfair.tracker.Detection] or [TrackedObject][norfair.tracker.TrackedObject]) to be compared to [TrackedObject][norfair.tracker.TrackedObject].</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            A matrix containing the distances between objects and candidates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">objects</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="c1"># Handle None or empty cases</span>
            <span class="n">num_candidates</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="k">if</span> <span class="n">candidates</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
                <span class="p">(</span><span class="n">num_candidates</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)),</span>
                <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
                <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">distance_matrix</span>

        <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
            <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)),</span>
            <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
            <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">object_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">o</span><span class="o">.</span><span class="n">label</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="n">candidate_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">label</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

        <span class="c1"># iterate over labels that are present both in objects and detections</span>
        <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">intersect1d</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">object_labels</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">candidate_labels</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="c1"># generate masks of the subset of object and detections for this label</span>
            <span class="n">obj_mask</span> <span class="o">=</span> <span class="n">object_labels</span> <span class="o">==</span> <span class="n">label</span>
            <span class="n">cand_mask</span> <span class="o">=</span> <span class="n">candidate_labels</span> <span class="o">==</span> <span class="n">label</span>

            <span class="n">stacked_objects</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">label</span><span class="p">)</span> <span class="o">==</span> <span class="n">label</span><span class="p">:</span>
                    <span class="n">stacked_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">estimate</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
            <span class="n">stacked_objects</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">stacked_objects</span><span class="p">)</span>

            <span class="n">stacked_candidates</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">label</span><span class="p">)</span> <span class="o">==</span> <span class="n">label</span><span class="p">:</span>
                    <span class="c1"># Detection objects have &#39;points&#39;, TrackedObject has &#39;estimate&#39;</span>
                    <span class="c1"># Use hasattr to determine which attribute to access</span>
                    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">):</span>
                        <span class="c1"># This is a Detection object</span>
                        <span class="n">c_points</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">points</span>
                        <span class="n">stacked_candidates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c_points</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># This is a TrackedObject</span>
                        <span class="c1"># pyrefly: ignore[missing-attribute]</span>
                        <span class="n">c_estimate</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">estimate</span>
                        <span class="n">stacked_candidates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c_estimate</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
            <span class="n">stacked_candidates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">stacked_candidates</span><span class="p">)</span>

            <span class="c1"># calculate the pairwise distances between objects and candidates with this label</span>
            <span class="c1"># and assign the result to the correct positions inside distance_matrix</span>
            <span class="n">distance_matrix</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">cand_mask</span><span class="p">,</span> <span class="n">obj_mask</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_distance</span><span class="p">(</span>
                <span class="n">stacked_candidates</span><span class="p">,</span> <span class="n">stacked_objects</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">distance_matrix</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_compute_distance</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">stacked_candidates</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">stacked_objects</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method that computes the pairwise distances between new candidates and objects.</span>
<span class="sd">        It is intended to use the entire vectors to compare to each other in a single operation.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stacked_candidates : np.ndarray</span>
<span class="sd">            np.ndarray containing a stack of candidates to be compared with the stacked_objects.</span>
<span class="sd">        stacked_objects : np.ndarray</span>
<span class="sd">            np.ndarray containing a stack of objects to be compared with the stacked_objects.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            A matrix containing the distances between objects and candidates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span><span class="p">(</span><span class="n">stacked_candidates</span><span class="p">,</span> <span class="n">stacked_objects</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="norfair.VectorizedDistance.get_distances" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_distances</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">candidates</span><span class="p">)</span></code>

<a href="#norfair.VectorizedDistance.get_distances" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Method that calculates the distances between new candidates and objects.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>objects</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sequence of <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a> to be compared with potential <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.Detection">Detection</a> or <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>
candidates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>candidates</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="List">List</span>[<a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a>], <span title="List">List</span>[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of candidates (<a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.Detection">Detection</a> or <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>) to be compared to <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A matrix containing the distances between objects and candidates.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_distances</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span>
    <span class="n">candidates</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;Candidate&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method that calculates the distances between new candidates and objects.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    objects : Sequence[TrackedObject]</span>
<span class="sd">        Sequence of [TrackedObject][norfair.tracker.TrackedObject] to be compared with potential [Detection][norfair.tracker.Detection] or [TrackedObject][norfair.tracker.TrackedObject]</span>
<span class="sd">        candidates.</span>
<span class="sd">    candidates : Union[List[Detection], List[TrackedObject]], optional</span>
<span class="sd">        List of candidates ([Detection][norfair.tracker.Detection] or [TrackedObject][norfair.tracker.TrackedObject]) to be compared to [TrackedObject][norfair.tracker.TrackedObject].</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        A matrix containing the distances between objects and candidates.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">objects</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">candidates</span><span class="p">:</span>
        <span class="c1"># Handle None or empty cases</span>
        <span class="n">num_candidates</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="k">if</span> <span class="n">candidates</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
            <span class="p">(</span><span class="n">num_candidates</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)),</span>
            <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
            <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">distance_matrix</span>

    <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
        <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">objects</span><span class="p">)),</span>
        <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span>
        <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">object_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">o</span><span class="o">.</span><span class="n">label</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">candidate_labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">c</span><span class="o">.</span><span class="n">label</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

    <span class="c1"># iterate over labels that are present both in objects and detections</span>
    <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">intersect1d</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">object_labels</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">candidate_labels</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="c1"># generate masks of the subset of object and detections for this label</span>
        <span class="n">obj_mask</span> <span class="o">=</span> <span class="n">object_labels</span> <span class="o">==</span> <span class="n">label</span>
        <span class="n">cand_mask</span> <span class="o">=</span> <span class="n">candidate_labels</span> <span class="o">==</span> <span class="n">label</span>

        <span class="n">stacked_objects</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">label</span><span class="p">)</span> <span class="o">==</span> <span class="n">label</span><span class="p">:</span>
                <span class="n">stacked_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">estimate</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
        <span class="n">stacked_objects</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">stacked_objects</span><span class="p">)</span>

        <span class="n">stacked_candidates</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">label</span><span class="p">)</span> <span class="o">==</span> <span class="n">label</span><span class="p">:</span>
                <span class="c1"># Detection objects have &#39;points&#39;, TrackedObject has &#39;estimate&#39;</span>
                <span class="c1"># Use hasattr to determine which attribute to access</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">):</span>
                    <span class="c1"># This is a Detection object</span>
                    <span class="n">c_points</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">points</span>
                    <span class="n">stacked_candidates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c_points</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># This is a TrackedObject</span>
                    <span class="c1"># pyrefly: ignore[missing-attribute]</span>
                    <span class="n">c_estimate</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">estimate</span>
                    <span class="n">stacked_candidates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c_estimate</span><span class="o">.</span><span class="n">ravel</span><span class="p">())</span>
        <span class="n">stacked_candidates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">stacked_candidates</span><span class="p">)</span>

        <span class="c1"># calculate the pairwise distances between objects and candidates with this label</span>
        <span class="c1"># and assign the result to the correct positions inside distance_matrix</span>
        <span class="n">distance_matrix</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">cand_mask</span><span class="p">,</span> <span class="n">obj_mask</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_distance</span><span class="p">(</span>
            <span class="n">stacked_candidates</span><span class="p">,</span> <span class="n">stacked_objects</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">distance_matrix</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.AbsolutePaths" class="doc doc-heading">
            <code>AbsolutePaths</code>


<a href="#norfair.AbsolutePaths" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>Class that draws the absolute paths taken by a set of points.</p>
<p>Works just like <a class="autorefs autorefs-internal" href="drawing/#norfair.drawing.Paths"><code>Paths</code></a> but supports camera motion.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This drawer is not optimized so it can be stremely slow. Performance degrades linearly with
<code>max_history * number_of_tracked_objects</code>.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>get_points_to_draw</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="collections.abc.Callable">Callable</span>[[<span title="numpy.ndarray">ndarray</span>], <span title="numpy.ndarray">ndarray</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function that takes a list of points (the <code>.estimate</code> attribute of a <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject"><code>TrackedObject</code></a>)
and returns a list of points for which we want to draw their paths.</p>
<p>By default it is the mean point of all the points in the tracker.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>thickness</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Thickness of the circles representing the paths of interest.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>color</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="Tuple">Tuple</span>[<span title="int">int</span>, <span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" href="drawing/#norfair.drawing.Color">Color</a> of the circles representing the paths of interest.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>radius</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Radius of the circles representing the paths of interest.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_history</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of past points to include in the path. High values make the drawing slower</p>
              </div>
            </td>
            <td>
                  <code>20</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">norfair</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tracker</span><span class="p">,</span> <span class="n">Video</span><span class="p">,</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">video</span> <span class="o">=</span> <span class="n">Video</span><span class="p">(</span><span class="s2">&quot;video.mp4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tracker</span> <span class="o">=</span> <span class="n">Tracker</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_drawer</span> <span class="o">=</span> <span class="n">Path</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">video</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">detections</span> <span class="o">=</span> <span class="n">get_detections</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>  <span class="c1"># runs detector and returns Detections</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">tracked_objects</span> <span class="o">=</span> <span class="n">tracker</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">frame</span> <span class="o">=</span> <span class="n">path_drawer</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">tracked_objects</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">video</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/drawing/path.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AbsolutePaths</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class that draws the absolute paths taken by a set of points.</span>

<span class="sd">    Works just like [`Paths`][norfair.drawing.Paths] but supports camera motion.</span>

<span class="sd">    !!! warning</span>
<span class="sd">        This drawer is not optimized so it can be stremely slow. Performance degrades linearly with</span>
<span class="sd">        `max_history * number_of_tracked_objects`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    get_points_to_draw : Optional[Callable[[np.ndarray], np.ndarray]], optional</span>
<span class="sd">        Function that takes a list of points (the `.estimate` attribute of a [`TrackedObject`][norfair.tracker.TrackedObject])</span>
<span class="sd">        and returns a list of points for which we want to draw their paths.</span>

<span class="sd">        By default it is the mean point of all the points in the tracker.</span>
<span class="sd">    thickness : Optional[int], optional</span>
<span class="sd">        Thickness of the circles representing the paths of interest.</span>
<span class="sd">    color : Optional[Tuple[int, int, int]], optional</span>
<span class="sd">        [Color][norfair.drawing.Color] of the circles representing the paths of interest.</span>
<span class="sd">    radius : Optional[int], optional</span>
<span class="sd">        Radius of the circles representing the paths of interest.</span>
<span class="sd">    max_history : int, optional</span>
<span class="sd">        Number of past points to include in the path. High values make the drawing slower</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from norfair import Tracker, Video, Path</span>
<span class="sd">    &gt;&gt;&gt; video = Video(&quot;video.mp4&quot;)</span>
<span class="sd">    &gt;&gt;&gt; tracker = Tracker(...)</span>
<span class="sd">    &gt;&gt;&gt; path_drawer = Path()</span>
<span class="sd">    &gt;&gt;&gt; for frame in video:</span>
<span class="sd">    &gt;&gt;&gt;    detections = get_detections(frame)  # runs detector and returns Detections</span>
<span class="sd">    &gt;&gt;&gt;    tracked_objects = tracker.update(detections)</span>
<span class="sd">    &gt;&gt;&gt;    frame = path_drawer.draw(frame, tracked_objects)</span>
<span class="sd">    &gt;&gt;&gt;    video.write(frame)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">get_points_to_draw</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">color</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">radius</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_history</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">get_points_to_draw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">default_get_points</span><span class="p">(</span><span class="n">points</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">points</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">get_points_to_draw</span> <span class="o">=</span> <span class="n">default_get_points</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_points_to_draw</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">get_points_to_draw</span>  <span class="c1"># pyrefly: ignore[bad-assignment]</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="o">=</span> <span class="n">thickness</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">past_points</span><span class="p">:</span> <span class="n">defaultdict</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_history</span> <span class="o">=</span> <span class="n">max_history</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alphas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.99</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="n">max_history</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">tracked_objects</span><span class="p">,</span> <span class="n">coord_transform</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">frame_scale</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">/</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">tracked_objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">obj</span><span class="o">.</span><span class="n">live_points</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
                <span class="k">continue</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="n">Palette</span><span class="o">.</span><span class="n">choose_color</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>

            <span class="n">points_to_draw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_points_to_draw</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">get_estimate</span><span class="p">(</span><span class="n">absolute</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

            <span class="c1"># Convert from absolute to relative coordinates if transform is provided</span>
            <span class="n">points_rel</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">coord_transform</span><span class="o">.</span><span class="n">abs_to_rel</span><span class="p">(</span><span class="n">points_to_draw</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">coord_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="k">else</span> <span class="n">points_to_draw</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">points_rel</span><span class="p">:</span>
                <span class="n">Drawer</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span>
                    <span class="n">frame</span><span class="p">,</span>
                    <span class="c1"># pyrefly: ignore[bad-argument-type]</span>
                    <span class="n">position</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)),</span>
                    <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
                    <span class="n">thickness</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">last</span> <span class="o">=</span> <span class="n">points_to_draw</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">past_points</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">past_points</span><span class="p">[</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">]):</span>
                <span class="n">overlay</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="n">last_rel</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">coord_transform</span><span class="o">.</span><span class="n">abs_to_rel</span><span class="p">(</span><span class="n">last</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">coord_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="k">else</span> <span class="n">last</span>
                <span class="p">)</span>
                <span class="n">past_points_rel</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">coord_transform</span><span class="o">.</span><span class="n">abs_to_rel</span><span class="p">(</span><span class="n">past_points</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">coord_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="k">else</span> <span class="n">past_points</span>
                <span class="p">)</span>
                <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">point</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">past_points_rel</span><span class="p">):</span>
                    <span class="n">Drawer</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
                        <span class="n">overlay</span><span class="p">,</span>
                        <span class="c1"># pyrefly: ignore[bad-argument-type]</span>
                        <span class="nb">tuple</span><span class="p">(</span><span class="n">last_rel</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)),</span>
                        <span class="nb">tuple</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)),</span>  <span class="c1"># pyrefly: ignore[bad-argument-type]</span>
                        <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
                        <span class="n">thickness</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="n">last</span> <span class="o">=</span> <span class="n">past_points</span>

                <span class="n">alpha</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">alphas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">frame</span> <span class="o">=</span> <span class="n">Drawer</span><span class="o">.</span><span class="n">alpha_blend</span><span class="p">(</span><span class="n">overlay</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">)</span>
            <span class="c1"># pyrefly: ignore[bad-argument-type]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">past_points</span><span class="p">[</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">points_to_draw</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">past_points</span><span class="p">[</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">past_points</span><span class="p">[</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">][:</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_history</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">frame</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.Color" class="doc doc-heading">
            <code>Color</code>


<a href="#norfair.Color" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>Contains predefined colors.</p>
<p>Colors are defined as a Tuple of integers between 0 and 255 expressing the values in BGR
This is the format opencv uses.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/drawing/color.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Color</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Contains predefined colors.</span>

<span class="sd">    Colors are defined as a Tuple of integers between 0 and 255 expressing the values in BGR</span>
<span class="sd">    This is the format opencv uses.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># from PIL.ImageColors.colormap</span>
    <span class="n">aliceblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f0f8ff&quot;</span><span class="p">)</span>
    <span class="n">antiquewhite</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#faebd7&quot;</span><span class="p">)</span>
    <span class="n">aqua</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#00ffff&quot;</span><span class="p">)</span>
    <span class="n">aquamarine</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#7fffd4&quot;</span><span class="p">)</span>
    <span class="n">azure</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f0ffff&quot;</span><span class="p">)</span>
    <span class="n">beige</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f5f5dc&quot;</span><span class="p">)</span>
    <span class="n">bisque</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffe4c4&quot;</span><span class="p">)</span>
    <span class="n">black</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
    <span class="n">blanchedalmond</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffebcd&quot;</span><span class="p">)</span>
    <span class="n">blue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#0000ff&quot;</span><span class="p">)</span>
    <span class="n">blueviolet</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#8a2be2&quot;</span><span class="p">)</span>
    <span class="n">brown</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#a52a2a&quot;</span><span class="p">)</span>
    <span class="n">burlywood</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#deb887&quot;</span><span class="p">)</span>
    <span class="n">cadetblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#5f9ea0&quot;</span><span class="p">)</span>
    <span class="n">chartreuse</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#7fff00&quot;</span><span class="p">)</span>
    <span class="n">chocolate</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#d2691e&quot;</span><span class="p">)</span>
    <span class="n">coral</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff7f50&quot;</span><span class="p">)</span>
    <span class="n">cornflowerblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#6495ed&quot;</span><span class="p">)</span>
    <span class="n">cornsilk</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fff8dc&quot;</span><span class="p">)</span>
    <span class="n">crimson</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#dc143c&quot;</span><span class="p">)</span>
    <span class="n">cyan</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#00ffff&quot;</span><span class="p">)</span>
    <span class="n">darkblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#00008b&quot;</span><span class="p">)</span>
    <span class="n">darkcyan</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#008b8b&quot;</span><span class="p">)</span>
    <span class="n">darkgoldenrod</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#b8860b&quot;</span><span class="p">)</span>
    <span class="n">darkgray</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#a9a9a9&quot;</span><span class="p">)</span>
    <span class="n">darkgrey</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#a9a9a9&quot;</span><span class="p">)</span>
    <span class="n">darkgreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#006400&quot;</span><span class="p">)</span>
    <span class="n">darkkhaki</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#bdb76b&quot;</span><span class="p">)</span>
    <span class="n">darkmagenta</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#8b008b&quot;</span><span class="p">)</span>
    <span class="n">darkolivegreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#556b2f&quot;</span><span class="p">)</span>
    <span class="n">darkorange</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff8c00&quot;</span><span class="p">)</span>
    <span class="n">darkorchid</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#9932cc&quot;</span><span class="p">)</span>
    <span class="n">darkred</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#8b0000&quot;</span><span class="p">)</span>
    <span class="n">darksalmon</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#e9967a&quot;</span><span class="p">)</span>
    <span class="n">darkseagreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#8fbc8f&quot;</span><span class="p">)</span>
    <span class="n">darkslateblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#483d8b&quot;</span><span class="p">)</span>
    <span class="n">darkslategray</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#2f4f4f&quot;</span><span class="p">)</span>
    <span class="n">darkslategrey</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#2f4f4f&quot;</span><span class="p">)</span>
    <span class="n">darkturquoise</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#00ced1&quot;</span><span class="p">)</span>
    <span class="n">darkviolet</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#9400d3&quot;</span><span class="p">)</span>
    <span class="n">deeppink</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff1493&quot;</span><span class="p">)</span>
    <span class="n">deepskyblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#00bfff&quot;</span><span class="p">)</span>
    <span class="n">dimgray</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#696969&quot;</span><span class="p">)</span>
    <span class="n">dimgrey</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#696969&quot;</span><span class="p">)</span>
    <span class="n">dodgerblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#1e90ff&quot;</span><span class="p">)</span>
    <span class="n">firebrick</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#b22222&quot;</span><span class="p">)</span>
    <span class="n">floralwhite</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fffaf0&quot;</span><span class="p">)</span>
    <span class="n">forestgreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#228b22&quot;</span><span class="p">)</span>
    <span class="n">fuchsia</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff00ff&quot;</span><span class="p">)</span>
    <span class="n">gainsboro</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#dcdcdc&quot;</span><span class="p">)</span>
    <span class="n">ghostwhite</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f8f8ff&quot;</span><span class="p">)</span>
    <span class="n">gold</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffd700&quot;</span><span class="p">)</span>
    <span class="n">goldenrod</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#daa520&quot;</span><span class="p">)</span>
    <span class="n">gray</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#808080&quot;</span><span class="p">)</span>
    <span class="n">grey</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#808080&quot;</span><span class="p">)</span>
    <span class="n">green</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">greenyellow</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#adff2f&quot;</span><span class="p">)</span>
    <span class="n">honeydew</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f0fff0&quot;</span><span class="p">)</span>
    <span class="n">hotpink</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff69b4&quot;</span><span class="p">)</span>
    <span class="n">indianred</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#cd5c5c&quot;</span><span class="p">)</span>
    <span class="n">indigo</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#4b0082&quot;</span><span class="p">)</span>
    <span class="n">ivory</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fffff0&quot;</span><span class="p">)</span>
    <span class="n">khaki</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f0e68c&quot;</span><span class="p">)</span>
    <span class="n">lavender</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#e6e6fa&quot;</span><span class="p">)</span>
    <span class="n">lavenderblush</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fff0f5&quot;</span><span class="p">)</span>
    <span class="n">lawngreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#7cfc00&quot;</span><span class="p">)</span>
    <span class="n">lemonchiffon</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fffacd&quot;</span><span class="p">)</span>
    <span class="n">lightblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#add8e6&quot;</span><span class="p">)</span>
    <span class="n">lightcoral</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f08080&quot;</span><span class="p">)</span>
    <span class="n">lightcyan</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#e0ffff&quot;</span><span class="p">)</span>
    <span class="n">lightgoldenrodyellow</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fafad2&quot;</span><span class="p">)</span>
    <span class="n">lightgreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#90ee90&quot;</span><span class="p">)</span>
    <span class="n">lightgray</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#d3d3d3&quot;</span><span class="p">)</span>
    <span class="n">lightgrey</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#d3d3d3&quot;</span><span class="p">)</span>
    <span class="n">lightpink</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffb6c1&quot;</span><span class="p">)</span>
    <span class="n">lightsalmon</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffa07a&quot;</span><span class="p">)</span>
    <span class="n">lightseagreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#20b2aa&quot;</span><span class="p">)</span>
    <span class="n">lightskyblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#87cefa&quot;</span><span class="p">)</span>
    <span class="n">lightslategray</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#778899&quot;</span><span class="p">)</span>
    <span class="n">lightslategrey</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#778899&quot;</span><span class="p">)</span>
    <span class="n">lightsteelblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#b0c4de&quot;</span><span class="p">)</span>
    <span class="n">lightyellow</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffffe0&quot;</span><span class="p">)</span>
    <span class="n">lime</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#00ff00&quot;</span><span class="p">)</span>
    <span class="n">limegreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#32cd32&quot;</span><span class="p">)</span>
    <span class="n">linen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#faf0e6&quot;</span><span class="p">)</span>
    <span class="n">magenta</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff00ff&quot;</span><span class="p">)</span>
    <span class="n">maroon</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#800000&quot;</span><span class="p">)</span>
    <span class="n">mediumaquamarine</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#66cdaa&quot;</span><span class="p">)</span>
    <span class="n">mediumblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#0000cd&quot;</span><span class="p">)</span>
    <span class="n">mediumorchid</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ba55d3&quot;</span><span class="p">)</span>
    <span class="n">mediumpurple</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#9370db&quot;</span><span class="p">)</span>
    <span class="n">mediumseagreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#3cb371&quot;</span><span class="p">)</span>
    <span class="n">mediumslateblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#7b68ee&quot;</span><span class="p">)</span>
    <span class="n">mediumspringgreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#00fa9a&quot;</span><span class="p">)</span>
    <span class="n">mediumturquoise</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#48d1cc&quot;</span><span class="p">)</span>
    <span class="n">mediumvioletred</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#c71585&quot;</span><span class="p">)</span>
    <span class="n">midnightblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#191970&quot;</span><span class="p">)</span>
    <span class="n">mintcream</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f5fffa&quot;</span><span class="p">)</span>
    <span class="n">mistyrose</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffe4e1&quot;</span><span class="p">)</span>
    <span class="n">moccasin</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffe4b5&quot;</span><span class="p">)</span>
    <span class="n">navajowhite</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffdead&quot;</span><span class="p">)</span>
    <span class="n">navy</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#000080&quot;</span><span class="p">)</span>
    <span class="n">oldlace</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fdf5e6&quot;</span><span class="p">)</span>
    <span class="n">olive</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#808000&quot;</span><span class="p">)</span>
    <span class="n">olivedrab</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#6b8e23&quot;</span><span class="p">)</span>
    <span class="n">orange</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffa500&quot;</span><span class="p">)</span>
    <span class="n">orangered</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff4500&quot;</span><span class="p">)</span>
    <span class="n">orchid</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#da70d6&quot;</span><span class="p">)</span>
    <span class="n">palegoldenrod</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#eee8aa&quot;</span><span class="p">)</span>
    <span class="n">palegreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#98fb98&quot;</span><span class="p">)</span>
    <span class="n">paleturquoise</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#afeeee&quot;</span><span class="p">)</span>
    <span class="n">palevioletred</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#db7093&quot;</span><span class="p">)</span>
    <span class="n">papayawhip</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffefd5&quot;</span><span class="p">)</span>
    <span class="n">peachpuff</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffdab9&quot;</span><span class="p">)</span>
    <span class="n">peru</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#cd853f&quot;</span><span class="p">)</span>
    <span class="n">pink</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffc0cb&quot;</span><span class="p">)</span>
    <span class="n">plum</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#dda0dd&quot;</span><span class="p">)</span>
    <span class="n">powderblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#b0e0e6&quot;</span><span class="p">)</span>
    <span class="n">purple</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#800080&quot;</span><span class="p">)</span>
    <span class="n">rebeccapurple</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#663399&quot;</span><span class="p">)</span>
    <span class="n">red</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff0000&quot;</span><span class="p">)</span>
    <span class="n">rosybrown</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#bc8f8f&quot;</span><span class="p">)</span>
    <span class="n">royalblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#4169e1&quot;</span><span class="p">)</span>
    <span class="n">saddlebrown</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#8b4513&quot;</span><span class="p">)</span>
    <span class="n">salmon</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fa8072&quot;</span><span class="p">)</span>
    <span class="n">sandybrown</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f4a460&quot;</span><span class="p">)</span>
    <span class="n">seagreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#2e8b57&quot;</span><span class="p">)</span>
    <span class="n">seashell</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fff5ee&quot;</span><span class="p">)</span>
    <span class="n">sienna</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#a0522d&quot;</span><span class="p">)</span>
    <span class="n">silver</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#c0c0c0&quot;</span><span class="p">)</span>
    <span class="n">skyblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#87ceeb&quot;</span><span class="p">)</span>
    <span class="n">slateblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#6a5acd&quot;</span><span class="p">)</span>
    <span class="n">slategray</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#708090&quot;</span><span class="p">)</span>
    <span class="n">slategrey</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#708090&quot;</span><span class="p">)</span>
    <span class="n">snow</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fffafa&quot;</span><span class="p">)</span>
    <span class="n">springgreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#00ff7f&quot;</span><span class="p">)</span>
    <span class="n">steelblue</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#4682b4&quot;</span><span class="p">)</span>
    <span class="n">tan</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#d2b48c&quot;</span><span class="p">)</span>
    <span class="n">teal</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#008080&quot;</span><span class="p">)</span>
    <span class="n">thistle</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#d8bfd8&quot;</span><span class="p">)</span>
    <span class="n">tomato</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff6347&quot;</span><span class="p">)</span>
    <span class="n">turquoise</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#40e0d0&quot;</span><span class="p">)</span>
    <span class="n">violet</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ee82ee&quot;</span><span class="p">)</span>
    <span class="n">wheat</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f5deb3&quot;</span><span class="p">)</span>
    <span class="n">white</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffffff&quot;</span><span class="p">)</span>
    <span class="n">whitesmoke</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f5f5f5&quot;</span><span class="p">)</span>
    <span class="n">yellow</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffff00&quot;</span><span class="p">)</span>
    <span class="n">yellowgreen</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#9acd32&quot;</span><span class="p">)</span>

    <span class="c1"># seaborn tab20 colors</span>
    <span class="n">tab1</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#1f77b4&quot;</span><span class="p">)</span>
    <span class="n">tab2</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#aec7e8&quot;</span><span class="p">)</span>
    <span class="n">tab3</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff7f0e&quot;</span><span class="p">)</span>
    <span class="n">tab4</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ffbb78&quot;</span><span class="p">)</span>
    <span class="n">tab5</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#2ca02c&quot;</span><span class="p">)</span>
    <span class="n">tab6</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#98df8a&quot;</span><span class="p">)</span>
    <span class="n">tab7</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#d62728&quot;</span><span class="p">)</span>
    <span class="n">tab8</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ff9896&quot;</span><span class="p">)</span>
    <span class="n">tab9</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#9467bd&quot;</span><span class="p">)</span>
    <span class="n">tab10</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#c5b0d5&quot;</span><span class="p">)</span>
    <span class="n">tab11</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#8c564b&quot;</span><span class="p">)</span>
    <span class="n">tab12</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#c49c94&quot;</span><span class="p">)</span>
    <span class="n">tab13</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#e377c2&quot;</span><span class="p">)</span>
    <span class="n">tab14</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#f7b6d2&quot;</span><span class="p">)</span>
    <span class="n">tab15</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#7f7f7f&quot;</span><span class="p">)</span>
    <span class="n">tab16</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#c7c7c7&quot;</span><span class="p">)</span>
    <span class="n">tab17</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#bcbd22&quot;</span><span class="p">)</span>
    <span class="n">tab18</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#dbdb8d&quot;</span><span class="p">)</span>
    <span class="n">tab19</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#17becf&quot;</span><span class="p">)</span>
    <span class="n">tab20</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#9edae5&quot;</span><span class="p">)</span>
    <span class="c1"># seaborn colorblind</span>
    <span class="n">cb1</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#0173b2&quot;</span><span class="p">)</span>
    <span class="n">cb2</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#de8f05&quot;</span><span class="p">)</span>
    <span class="n">cb3</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#029e73&quot;</span><span class="p">)</span>
    <span class="n">cb4</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#d55e00&quot;</span><span class="p">)</span>
    <span class="n">cb5</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#cc78bc&quot;</span><span class="p">)</span>
    <span class="n">cb6</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ca9161&quot;</span><span class="p">)</span>
    <span class="n">cb7</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#fbafe4&quot;</span><span class="p">)</span>
    <span class="n">cb8</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#949494&quot;</span><span class="p">)</span>
    <span class="n">cb9</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#ece133&quot;</span><span class="p">)</span>
    <span class="n">cb10</span> <span class="o">=</span> <span class="n">hex_to_bgr</span><span class="p">(</span><span class="s2">&quot;#56b4e9&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.Drawable" class="doc doc-heading">
            <code>Drawable</code>


<a href="#norfair.Drawable" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>Class to standardize Drawable objects like Detections and TrackedObjects</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a>, <a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.Detection">Detection</a> or a <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>
that will be used to initialized the drawable.
If this parameter is passed, all other arguments are ignored</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Points included in the drawable, shape is <code>(N_points, N_dimensions)</code>. Ignored if <code>obj</code> is passed</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>id</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Id of this object. Ignored if <code>obj</code> is passed</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label specifying the class of the object. Ignored if <code>obj</code> is passed</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scores</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Confidence scores of each point, shape is <code>(N_points,)</code>. Ignored if <code>obj</code> is passed</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>live_points</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bolean array indicating which points are alive, shape is <code>(N_points,)</code>. Ignored if <code>obj</code> is passed</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If obj is not an instance of the supported classes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/drawing/drawer.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Drawable</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to standardize Drawable objects like Detections and TrackedObjects</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    obj : Union[Detection, TrackedObject], optional</span>
<span class="sd">        A [Detection][norfair.tracker.Detection] or a [TrackedObject][norfair.tracker.TrackedObject]</span>
<span class="sd">        that will be used to initialized the drawable.</span>
<span class="sd">        If this parameter is passed, all other arguments are ignored</span>
<span class="sd">    points : np.ndarray, optional</span>
<span class="sd">        Points included in the drawable, shape is `(N_points, N_dimensions)`. Ignored if `obj` is passed</span>
<span class="sd">    id : Any, optional</span>
<span class="sd">        Id of this object. Ignored if `obj` is passed</span>
<span class="sd">    label : Any, optional</span>
<span class="sd">        Label specifying the class of the object. Ignored if `obj` is passed</span>
<span class="sd">    scores : np.ndarray, optional</span>
<span class="sd">        Confidence scores of each point, shape is `(N_points,)`. Ignored if `obj` is passed</span>
<span class="sd">    live_points : np.ndarray, optional</span>
<span class="sd">        Bolean array indicating which points are alive, shape is `(N_points,)`. Ignored if `obj` is passed</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If obj is not an instance of the supported classes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">obj</span><span class="p">:</span> <span class="n">Detection</span> <span class="o">|</span> <span class="n">TrackedObject</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">points</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">scores</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">live_points</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Detection</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">points</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">label</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">scores</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">live_points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>  <span class="c1"># see #13</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">TrackedObject</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">estimate</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">id</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">label</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">scores</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">live_points</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">live_points</span>
        <span class="k">elif</span> <span class="n">obj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="n">points</span>  <span class="c1"># pyrefly: ignore[bad-assignment]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">scores</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">live_points</span> <span class="o">=</span> <span class="n">live_points</span>  <span class="c1"># pyrefly: ignore[bad-assignment]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Extecting a Detection or a TrackedObject but received </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.FixedCamera" class="doc doc-heading">
            <code>FixedCamera</code>


<a href="#norfair.FixedCamera" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>Class used to stabilize video based on the camera motion.</p>
<p>Starts with a larger frame, where the original frame is drawn on top of a black background.
As the camera moves, the smaller frame moves in the opposite direction, stabilizing the objects in it.</p>
<p>Useful for debugging or demoing the camera motion.
<img alt="Example GIF" src="../../videos/camera_stabilization.gif" /></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This only works with <a class="autorefs autorefs-internal" href="camera_motion/#norfair.camera_motion.TranslationTransformation"><code>TranslationTransformation</code></a>,
using <a class="autorefs autorefs-internal" href="camera_motion/#norfair.camera_motion.HomographyTransformation"><code>HomographyTransformation</code></a> will result in
unexpected behaviour.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If using other drawers, always apply this one last. Using other drawers on the scaled up frame will not work as expected.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sometimes the camera moves so far from the original point that the result won't fit in the scaled-up frame.
In this case, a warning will be logged and the frames will be cropped to avoid errors.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>scale</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The resulting video will have a resolution of <code>scale * (H, W)</code> where HxW is the resolution of the original video.
Use a bigger scale if the camera is moving too much.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attenuation</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Controls how fast the older frames fade to black.</p>
              </div>
            </td>
            <td>
                  <code>0.05</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="c1"># setup</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tracker</span> <span class="o">=</span> <span class="n">Tracker</span><span class="p">(</span><span class="s2">&quot;frobenious&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">motion_estimator</span> <span class="o">=</span> <span class="n">MotionEstimator</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">video</span> <span class="o">=</span> <span class="n">Video</span><span class="p">(</span><span class="n">input_path</span><span class="o">=</span><span class="s2">&quot;video.mp4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fixed_camera</span> <span class="o">=</span> <span class="n">FixedCamera</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># process video</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">video</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">coord_transformations</span> <span class="o">=</span> <span class="n">motion_estimator</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">detections</span> <span class="o">=</span> <span class="n">get_detections</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">tracked_objects</span> <span class="o">=</span> <span class="n">tracker</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">detections</span><span class="p">,</span> <span class="n">coord_transformations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">draw_tracked_objects</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">tracked_objects</span><span class="p">)</span>  <span class="c1"># fixed_camera should always be the last drawer</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">bigger_frame</span> <span class="o">=</span> <span class="n">fixed_camera</span><span class="o">.</span><span class="n">adjust_frame</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">coord_transformations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">video</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bigger_frame</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/drawing/fixed_camera.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FixedCamera</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class used to stabilize video based on the camera motion.</span>

<span class="sd">    Starts with a larger frame, where the original frame is drawn on top of a black background.</span>
<span class="sd">    As the camera moves, the smaller frame moves in the opposite direction, stabilizing the objects in it.</span>

<span class="sd">    Useful for debugging or demoing the camera motion.</span>
<span class="sd">    ![Example GIF](../../videos/camera_stabilization.gif)</span>

<span class="sd">    !!! Warning</span>
<span class="sd">        This only works with [`TranslationTransformation`][norfair.camera_motion.TranslationTransformation],</span>
<span class="sd">        using [`HomographyTransformation`][norfair.camera_motion.HomographyTransformation] will result in</span>
<span class="sd">        unexpected behaviour.</span>

<span class="sd">    !!! Warning</span>
<span class="sd">        If using other drawers, always apply this one last. Using other drawers on the scaled up frame will not work as expected.</span>

<span class="sd">    !!! Note</span>
<span class="sd">        Sometimes the camera moves so far from the original point that the result won&#39;t fit in the scaled-up frame.</span>
<span class="sd">        In this case, a warning will be logged and the frames will be cropped to avoid errors.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    scale : float, optional</span>
<span class="sd">        The resulting video will have a resolution of `scale * (H, W)` where HxW is the resolution of the original video.</span>
<span class="sd">        Use a bigger scale if the camera is moving too much.</span>
<span class="sd">    attenuation : float, optional</span>
<span class="sd">        Controls how fast the older frames fade to black.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; # setup</span>
<span class="sd">    &gt;&gt;&gt; tracker = Tracker(&quot;frobenious&quot;, 100)</span>
<span class="sd">    &gt;&gt;&gt; motion_estimator = MotionEstimator()</span>
<span class="sd">    &gt;&gt;&gt; video = Video(input_path=&quot;video.mp4&quot;)</span>
<span class="sd">    &gt;&gt;&gt; fixed_camera = FixedCamera()</span>
<span class="sd">    &gt;&gt;&gt; # process video</span>
<span class="sd">    &gt;&gt;&gt; for frame in video:</span>
<span class="sd">    &gt;&gt;&gt;     coord_transformations = motion_estimator.update(frame)</span>
<span class="sd">    &gt;&gt;&gt;     detections = get_detections(frame)</span>
<span class="sd">    &gt;&gt;&gt;     tracked_objects = tracker.update(detections, coord_transformations)</span>
<span class="sd">    &gt;&gt;&gt;     draw_tracked_objects(frame, tracked_objects)  # fixed_camera should always be the last drawer</span>
<span class="sd">    &gt;&gt;&gt;     bigger_frame = fixed_camera.adjust_frame(frame, coord_transformations)</span>
<span class="sd">    &gt;&gt;&gt;     video.write(bigger_frame)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">attenuation</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="n">scale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_background</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_attenuation_factor</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">attenuation</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">adjust_frame</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">coord_transformation</span><span class="p">:</span> <span class="n">TranslationTransformation</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Render scaled up frame.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frame : np.ndarray</span>
<span class="sd">            The OpenCV frame.</span>
<span class="sd">        coord_transformation : TranslationTransformation</span>
<span class="sd">            The coordinate transformation as returned by the [`MotionEstimator`][norfair.camera_motion.MotionEstimator]</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.ndarray</span>
<span class="sd">            The new bigger frame with the original frame drawn on it.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># initialize background if necessary</span>
        <span class="n">background</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_background</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">original_size</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="p">)</span>  <span class="c1"># OpenCV format is (width, height)</span>

            <span class="n">scaled_size</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
                <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">original_size</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">background</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span>
                <span class="p">[</span><span class="n">scaled_size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">scaled_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]],</span>
                <span class="n">frame</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">background</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_background</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attenuation_factor</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span>
                <span class="n">frame</span><span class="o">.</span><span class="n">dtype</span>
            <span class="p">)</span>

        <span class="c1"># top_left is the anchor coordinate from where we start drawing the fame on top of the background</span>
        <span class="c1"># aim to draw it in the center of the background but transformations will move this point</span>
        <span class="n">top_left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">background</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">top_left</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">coord_transformation</span><span class="o">.</span><span class="n">rel_to_abs</span><span class="p">(</span><span class="n">top_left</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="c1"># box of the background that will be updated and the limits of it</span>
        <span class="n">background_y0</span><span class="p">,</span> <span class="n">background_y1</span> <span class="o">=</span> <span class="p">(</span><span class="n">top_left</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">top_left</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">background_x0</span><span class="p">,</span> <span class="n">background_x1</span> <span class="o">=</span> <span class="p">(</span><span class="n">top_left</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">top_left</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">background_size_y</span><span class="p">,</span> <span class="n">background_size_x</span> <span class="o">=</span> <span class="n">background</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

        <span class="c1"># define box of the frame that will be used</span>
        <span class="c1"># if the scale is not enough to support the movement, warn the user but keep drawing</span>
        <span class="c1"># cropping the frame so that the operation doesn&#39;t fail</span>
        <span class="n">frame_y0</span><span class="p">,</span> <span class="n">frame_y1</span><span class="p">,</span> <span class="n">frame_x0</span><span class="p">,</span> <span class="n">frame_x1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">background_y0</span> <span class="o">&lt;</span> <span class="mi">0</span>
            <span class="ow">or</span> <span class="n">background_x0</span> <span class="o">&lt;</span> <span class="mi">0</span>
            <span class="ow">or</span> <span class="n">background_y1</span> <span class="o">&gt;</span> <span class="n">background_size_y</span>
            <span class="ow">or</span> <span class="n">background_x1</span> <span class="o">&gt;</span> <span class="n">background_size_x</span>
        <span class="p">):</span>
            <span class="n">warn_once</span><span class="p">(</span>
                <span class="s2">&quot;moving_camera_scale is not enough to cover the range of camera movement, frame will be cropped&quot;</span>
            <span class="p">)</span>
            <span class="c1"># crop left or top of the frame if necessary</span>
            <span class="n">frame_y0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">background_y0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">frame_x0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">background_x0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="c1"># crop right or bottom of the frame if necessary</span>
            <span class="n">frame_y1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
                <span class="nb">min</span><span class="p">(</span><span class="n">background_size_y</span> <span class="o">-</span> <span class="n">background_y0</span><span class="p">,</span> <span class="n">background_y1</span> <span class="o">-</span> <span class="n">background_y0</span><span class="p">),</span> <span class="mi">0</span>
            <span class="p">)</span>
            <span class="n">frame_x1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
                <span class="nb">min</span><span class="p">(</span><span class="n">background_size_x</span> <span class="o">-</span> <span class="n">background_x0</span><span class="p">,</span> <span class="n">background_x1</span> <span class="o">-</span> <span class="n">background_x0</span><span class="p">),</span> <span class="mi">0</span>
            <span class="p">)</span>
            <span class="c1"># handle cases where the limits of the background become negative which numpy will interpret incorrectly</span>
            <span class="n">background_y0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">background_y0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">background_x0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">background_x0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">background_y1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">background_y1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">background_x1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">background_x1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">background</span><span class="p">[</span><span class="n">background_y0</span><span class="p">:</span><span class="n">background_y1</span><span class="p">,</span> <span class="n">background_x0</span><span class="p">:</span><span class="n">background_x1</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">frame</span><span class="p">[</span>
            <span class="n">frame_y0</span><span class="p">:</span><span class="n">frame_y1</span><span class="p">,</span> <span class="n">frame_x0</span><span class="p">:</span><span class="n">frame_x1</span><span class="p">,</span> <span class="p">:</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_background</span> <span class="o">=</span> <span class="n">background</span>
        <span class="k">return</span> <span class="n">background</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="norfair.FixedCamera.adjust_frame" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">adjust_frame</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">coord_transformation</span><span class="p">)</span></code>

<a href="#norfair.FixedCamera.adjust_frame" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Render scaled up frame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>frame</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The OpenCV frame.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coord_transformation</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TranslationTransformation (norfair.camera_motion.TranslationTransformation)" href="camera_motion/#norfair.camera_motion.TranslationTransformation">TranslationTransformation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The coordinate transformation as returned by the <a class="autorefs autorefs-internal" href="camera_motion/#norfair.camera_motion.MotionEstimator"><code>MotionEstimator</code></a></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new bigger frame with the original frame drawn on it.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/drawing/fixed_camera.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">adjust_frame</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">coord_transformation</span><span class="p">:</span> <span class="n">TranslationTransformation</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Render scaled up frame.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    frame : np.ndarray</span>
<span class="sd">        The OpenCV frame.</span>
<span class="sd">    coord_transformation : TranslationTransformation</span>
<span class="sd">        The coordinate transformation as returned by the [`MotionEstimator`][norfair.camera_motion.MotionEstimator]</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.ndarray</span>
<span class="sd">        The new bigger frame with the original frame drawn on it.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># initialize background if necessary</span>
    <span class="n">background</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_background</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">original_size</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">)</span>  <span class="c1"># OpenCV format is (width, height)</span>

        <span class="n">scaled_size</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">original_size</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">))</span><span class="o">.</span><span class="n">round</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">background</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span>
            <span class="p">[</span><span class="n">scaled_size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">scaled_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]],</span>
            <span class="n">frame</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">background</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_background</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_attenuation_factor</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span>
            <span class="n">frame</span><span class="o">.</span><span class="n">dtype</span>
        <span class="p">)</span>

    <span class="c1"># top_left is the anchor coordinate from where we start drawing the fame on top of the background</span>
    <span class="c1"># aim to draw it in the center of the background but transformations will move this point</span>
    <span class="n">top_left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">background</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="n">top_left</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">coord_transformation</span><span class="o">.</span><span class="n">rel_to_abs</span><span class="p">(</span><span class="n">top_left</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="c1"># box of the background that will be updated and the limits of it</span>
    <span class="n">background_y0</span><span class="p">,</span> <span class="n">background_y1</span> <span class="o">=</span> <span class="p">(</span><span class="n">top_left</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">top_left</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">background_x0</span><span class="p">,</span> <span class="n">background_x1</span> <span class="o">=</span> <span class="p">(</span><span class="n">top_left</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">top_left</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">background_size_y</span><span class="p">,</span> <span class="n">background_size_x</span> <span class="o">=</span> <span class="n">background</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1"># define box of the frame that will be used</span>
    <span class="c1"># if the scale is not enough to support the movement, warn the user but keep drawing</span>
    <span class="c1"># cropping the frame so that the operation doesn&#39;t fail</span>
    <span class="n">frame_y0</span><span class="p">,</span> <span class="n">frame_y1</span><span class="p">,</span> <span class="n">frame_x0</span><span class="p">,</span> <span class="n">frame_x1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">background_y0</span> <span class="o">&lt;</span> <span class="mi">0</span>
        <span class="ow">or</span> <span class="n">background_x0</span> <span class="o">&lt;</span> <span class="mi">0</span>
        <span class="ow">or</span> <span class="n">background_y1</span> <span class="o">&gt;</span> <span class="n">background_size_y</span>
        <span class="ow">or</span> <span class="n">background_x1</span> <span class="o">&gt;</span> <span class="n">background_size_x</span>
    <span class="p">):</span>
        <span class="n">warn_once</span><span class="p">(</span>
            <span class="s2">&quot;moving_camera_scale is not enough to cover the range of camera movement, frame will be cropped&quot;</span>
        <span class="p">)</span>
        <span class="c1"># crop left or top of the frame if necessary</span>
        <span class="n">frame_y0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">background_y0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">frame_x0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">background_x0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="c1"># crop right or bottom of the frame if necessary</span>
        <span class="n">frame_y1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
            <span class="nb">min</span><span class="p">(</span><span class="n">background_size_y</span> <span class="o">-</span> <span class="n">background_y0</span><span class="p">,</span> <span class="n">background_y1</span> <span class="o">-</span> <span class="n">background_y0</span><span class="p">),</span> <span class="mi">0</span>
        <span class="p">)</span>
        <span class="n">frame_x1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
            <span class="nb">min</span><span class="p">(</span><span class="n">background_size_x</span> <span class="o">-</span> <span class="n">background_x0</span><span class="p">,</span> <span class="n">background_x1</span> <span class="o">-</span> <span class="n">background_x0</span><span class="p">),</span> <span class="mi">0</span>
        <span class="p">)</span>
        <span class="c1"># handle cases where the limits of the background become negative which numpy will interpret incorrectly</span>
        <span class="n">background_y0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">background_y0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">background_x0</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">background_x0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">background_y1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">background_y1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">background_x1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">background_x1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">background</span><span class="p">[</span><span class="n">background_y0</span><span class="p">:</span><span class="n">background_y1</span><span class="p">,</span> <span class="n">background_x0</span><span class="p">:</span><span class="n">background_x1</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">frame</span><span class="p">[</span>
        <span class="n">frame_y0</span><span class="p">:</span><span class="n">frame_y1</span><span class="p">,</span> <span class="n">frame_x0</span><span class="p">:</span><span class="n">frame_x1</span><span class="p">,</span> <span class="p">:</span>
    <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_background</span> <span class="o">=</span> <span class="n">background</span>
    <span class="k">return</span> <span class="n">background</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.Palette" class="doc doc-heading">
            <code>Palette</code>


<a href="#norfair.Palette" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>Class to control the color pallete for drawing.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Change palette:</p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">norfair</span><span class="w"> </span><span class="kn">import</span> <span class="n">Palette</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Palette</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;colorblind&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># or a custom palette</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">norfair</span><span class="w"> </span><span class="kn">import</span> <span class="n">Color</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Palette</span><span class="o">.</span><span class="n">set</span><span class="p">([</span><span class="n">Color</span><span class="o">.</span><span class="n">red</span><span class="p">,</span> <span class="n">Color</span><span class="o">.</span><span class="n">blue</span><span class="p">,</span> <span class="s2">&quot;#ffeeff&quot;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/drawing/color.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Palette</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to control the color pallete for drawing.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Change palette:</span>
<span class="sd">    &gt;&gt;&gt; from norfair import Palette</span>
<span class="sd">    &gt;&gt;&gt; Palette.set(&quot;colorblind&quot;)</span>
<span class="sd">    &gt;&gt;&gt; # or a custom palette</span>
<span class="sd">    &gt;&gt;&gt; from norfair import Color</span>
<span class="sd">    &gt;&gt;&gt; Palette.set([Color.red, Color.blue, &quot;#ffeeff&quot;])</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_colors</span> <span class="o">=</span> <span class="n">PALETTES</span><span class="p">[</span><span class="s2">&quot;tab10&quot;</span><span class="p">]</span>
    <span class="n">_default_color</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">black</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">set</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">palette</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">ColorLike</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects a color palette.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        palette : Union[str, Iterable[ColorLike]]</span>
<span class="sd">            can be either</span>
<span class="sd">            - the name of one of the predefined palettes `tab10`, `tab20`, or `colorblind`</span>
<span class="sd">            - a list of ColorLike objects that can be parsed by [`parse_color`][norfair.drawing.color.parse_color]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">palette</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">_colors</span> <span class="o">=</span> <span class="n">PALETTES</span><span class="p">[</span><span class="n">palette</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid palette name &#39;</span><span class="si">{</span><span class="n">palette</span><span class="si">}</span><span class="s2">&#39;, valid values are </span><span class="si">{</span><span class="n">PALETTES</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">palette</span><span class="p">:</span>
                <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parse_color</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>

            <span class="bp">cls</span><span class="o">.</span><span class="n">_colors</span> <span class="o">=</span> <span class="n">colors</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_default_color</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">color</span><span class="p">:</span> <span class="n">ColorLike</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Selects the default color of `choose_color` when hashable is None.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        color : ColorLike</span>
<span class="sd">            The new default color.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">_default_color</span> <span class="o">=</span> <span class="n">parse_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">choose_color</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">hashable</span><span class="p">:</span> <span class="n">Hashable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ColorType</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">hashable</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_default_color</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_colors</span><span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="nb">hash</span><span class="p">(</span><span class="n">hashable</span><span class="p">))</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_colors</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="norfair.Palette.set" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">set</span><span class="p">(</span><span class="n">palette</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#norfair.Palette.set" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Selects a color palette.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>palette</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="str">str</span>, <span title="collections.abc.Iterable">Iterable</span>[<span title="norfair.drawing.color.ColorLike">ColorLike</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>can be either
- the name of one of the predefined palettes <code>tab10</code>, <code>tab20</code>, or <code>colorblind</code>
- a list of ColorLike objects that can be parsed by <a class="autorefs autorefs-internal" title="parse_color(color_like)" href="drawing/#norfair.drawing.color.parse_color"><code>parse_color</code></a></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/drawing/color.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">set</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">palette</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">ColorLike</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Selects a color palette.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    palette : Union[str, Iterable[ColorLike]]</span>
<span class="sd">        can be either</span>
<span class="sd">        - the name of one of the predefined palettes `tab10`, `tab20`, or `colorblind`</span>
<span class="sd">        - a list of ColorLike objects that can be parsed by [`parse_color`][norfair.drawing.color.parse_color]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">palette</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_colors</span> <span class="o">=</span> <span class="n">PALETTES</span><span class="p">[</span><span class="n">palette</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid palette name &#39;</span><span class="si">{</span><span class="n">palette</span><span class="si">}</span><span class="s2">&#39;, valid values are </span><span class="si">{</span><span class="n">PALETTES</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">palette</span><span class="p">:</span>
            <span class="n">colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parse_color</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>

        <span class="bp">cls</span><span class="o">.</span><span class="n">_colors</span> <span class="o">=</span> <span class="n">colors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="norfair.Palette.set_default_color" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_default_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#norfair.Palette.set_default_color" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Selects the default color of <code>choose_color</code> when hashable is None.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>color</code>
            </td>
            <td>
                  <code><span title="norfair.drawing.color.ColorLike">ColorLike</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The new default color.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/drawing/color.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span><span class="w"> </span><span class="nf">set_default_color</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">color</span><span class="p">:</span> <span class="n">ColorLike</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Selects the default color of `choose_color` when hashable is None.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    color : ColorLike</span>
<span class="sd">        The new default color.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">_default_color</span> <span class="o">=</span> <span class="n">parse_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.Paths" class="doc doc-heading">
            <code>Paths</code>


<a href="#norfair.Paths" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>Class that draws the paths taken by a set of points of interest defined from the coordinates of each tracker estimation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>get_points_to_draw</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="collections.abc.Callable">Callable</span>[[<span title="numpy.ndarray">ndarray</span>], <span title="numpy.ndarray">ndarray</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function that takes a list of points (the <code>.estimate</code> attribute of a <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject"><code>TrackedObject</code></a>)
and returns a list of points for which we want to draw their paths.</p>
<p>By default it is the mean point of all the points in the tracker.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>thickness</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Thickness of the circles representing the paths of interest.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>color</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="Tuple">Tuple</span>[<span title="int">int</span>, <span title="int">int</span>, <span title="int">int</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><a class="autorefs autorefs-internal" href="drawing/#norfair.drawing.Color">Color</a> of the circles representing the paths of interest.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>radius</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Radius of the circles representing the paths of interest.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>attenuation</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A float number in [0, 1] that dictates the speed at which the path is erased.
if it is <code>0</code> then the path is never erased.</p>
              </div>
            </td>
            <td>
                  <code>0.01</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">norfair</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tracker</span><span class="p">,</span> <span class="n">Video</span><span class="p">,</span> <span class="n">Path</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">video</span> <span class="o">=</span> <span class="n">Video</span><span class="p">(</span><span class="s2">&quot;video.mp4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tracker</span> <span class="o">=</span> <span class="n">Tracker</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_drawer</span> <span class="o">=</span> <span class="n">Path</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">video</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">detections</span> <span class="o">=</span> <span class="n">get_detections</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>  <span class="c1"># runs detector and returns Detections</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">tracked_objects</span> <span class="o">=</span> <span class="n">tracker</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">detections</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">frame</span> <span class="o">=</span> <span class="n">path_drawer</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">tracked_objects</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">video</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/drawing/path.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Paths</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class that draws the paths taken by a set of points of interest defined from the coordinates of each tracker estimation.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    get_points_to_draw : Optional[Callable[[np.ndarray], np.ndarray]], optional</span>
<span class="sd">        Function that takes a list of points (the `.estimate` attribute of a [`TrackedObject`][norfair.tracker.TrackedObject])</span>
<span class="sd">        and returns a list of points for which we want to draw their paths.</span>

<span class="sd">        By default it is the mean point of all the points in the tracker.</span>
<span class="sd">    thickness : Optional[int], optional</span>
<span class="sd">        Thickness of the circles representing the paths of interest.</span>
<span class="sd">    color : Optional[Tuple[int, int, int]], optional</span>
<span class="sd">        [Color][norfair.drawing.Color] of the circles representing the paths of interest.</span>
<span class="sd">    radius : Optional[int], optional</span>
<span class="sd">        Radius of the circles representing the paths of interest.</span>
<span class="sd">    attenuation : float, optional</span>
<span class="sd">        A float number in [0, 1] that dictates the speed at which the path is erased.</span>
<span class="sd">        if it is `0` then the path is never erased.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from norfair import Tracker, Video, Path</span>
<span class="sd">    &gt;&gt;&gt; video = Video(&quot;video.mp4&quot;)</span>
<span class="sd">    &gt;&gt;&gt; tracker = Tracker(...)</span>
<span class="sd">    &gt;&gt;&gt; path_drawer = Path()</span>
<span class="sd">    &gt;&gt;&gt; for frame in video:</span>
<span class="sd">    &gt;&gt;&gt;    detections = get_detections(frame)  # runs detector and returns Detections</span>
<span class="sd">    &gt;&gt;&gt;    tracked_objects = tracker.update(detections)</span>
<span class="sd">    &gt;&gt;&gt;    frame = path_drawer.draw(frame, tracked_objects)</span>
<span class="sd">    &gt;&gt;&gt;    video.write(frame)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">get_points_to_draw</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">color</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">radius</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">attenuation</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">get_points_to_draw</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">default_get_points</span><span class="p">(</span><span class="n">points</span><span class="p">):</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">points</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">get_points_to_draw</span> <span class="o">=</span> <span class="n">default_get_points</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_points_to_draw</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">get_points_to_draw</span>  <span class="c1"># pyrefly: ignore[bad-assignment]</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="o">=</span> <span class="n">thickness</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attenuation_factor</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">attenuation</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">tracked_objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TrackedObject</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Draw the paths of the points interest on a frame.</span>

<span class="sd">        !!! warning</span>
<span class="sd">            This method does **not** draw frames in place as other drawers do, the resulting frame is returned.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frame : np.ndarray</span>
<span class="sd">            The OpenCV frame to draw on.</span>
<span class="sd">        tracked_objects : Sequence[TrackedObject]</span>
<span class="sd">            List of [`TrackedObject`][norfair.tracker.TrackedObject] to get the points of interest in order to update the paths.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        np.array</span>
<span class="sd">            The resulting frame.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">frame_scale</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">/</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>

        <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">attenuation_factor</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;uint8&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">tracked_objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">abs_to_rel</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">warn_once</span><span class="p">(</span>
                    <span class="s2">&quot;It seems that your using the Path drawer together with MotionEstimator. This is not fully supported and the results will not be what&#39;s expected&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="n">Palette</span><span class="o">.</span><span class="n">choose_color</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>

            <span class="n">points_to_draw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_points_to_draw</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">estimate</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">points_to_draw</span><span class="p">:</span>
                <span class="n">mask</span> <span class="o">=</span> <span class="n">Drawer</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span>
                    <span class="n">mask</span><span class="p">,</span>
                    <span class="c1"># pyrefly: ignore[bad-argument-type]</span>
                    <span class="n">position</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)),</span>
                    <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
                    <span class="n">thickness</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">,</span>
                <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span>
        <span class="k">return</span> <span class="n">Drawer</span><span class="o">.</span><span class="n">alpha_blend</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="norfair.Paths.draw" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">draw</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">tracked_objects</span><span class="p">)</span></code>

<a href="#norfair.Paths.draw" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Draw the paths of the points interest on a frame.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method does <strong>not</strong> draw frames in place as other drawers do, the resulting frame is returned.</p>
</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>frame</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The OpenCV frame to draw on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tracked_objects</code>
            </td>
            <td>
                  <code><span title="collections.abc.Sequence">Sequence</span>[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject"><code>TrackedObject</code></a> to get the points of interest in order to update the paths.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The resulting frame.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/drawing/path.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">tracked_objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">TrackedObject</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw the paths of the points interest on a frame.</span>

<span class="sd">    !!! warning</span>
<span class="sd">        This method does **not** draw frames in place as other drawers do, the resulting frame is returned.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    frame : np.ndarray</span>
<span class="sd">        The OpenCV frame to draw on.</span>
<span class="sd">    tracked_objects : Sequence[TrackedObject]</span>
<span class="sd">        List of [`TrackedObject`][norfair.tracker.TrackedObject] to get the points of interest in order to update the paths.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    np.array</span>
<span class="sd">        The resulting frame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">frame_scale</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">thickness</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">/</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>

    <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">attenuation_factor</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;uint8&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">tracked_objects</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">abs_to_rel</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">warn_once</span><span class="p">(</span>
                <span class="s2">&quot;It seems that your using the Path drawer together with MotionEstimator. This is not fully supported and the results will not be what&#39;s expected&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">Palette</span><span class="o">.</span><span class="n">choose_color</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>

        <span class="n">points_to_draw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_points_to_draw</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">estimate</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">points_to_draw</span><span class="p">:</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="n">Drawer</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span>
                <span class="n">mask</span><span class="p">,</span>
                <span class="c1"># pyrefly: ignore[bad-argument-type]</span>
                <span class="n">position</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)),</span>
                <span class="n">radius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
                <span class="n">thickness</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span>
    <span class="k">return</span> <span class="n">Drawer</span><span class="o">.</span><span class="n">alpha_blend</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.FilterPyKalmanFilterFactory" class="doc doc-heading">
            <code>FilterPyKalmanFilterFactory</code>


<a href="#norfair.FilterPyKalmanFilterFactory" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="norfair.filter.FilterFactory">FilterFactory</span></code></p>



        <p>This class can be used either to change some parameters of the <a href="https://filterpy.readthedocs.io/en/latest/kalman/KalmanFilter.html">KalmanFilter</a>
that the tracker uses, or to fully customize the predictive filter implementation to use (as long as the methods and properties are compatible).</p>
<p>The former case only requires changing the default parameters upon tracker creation: <code>tracker = Tracker(..., filter_factory=FilterPyKalmanFilterFactory(R=100))</code>,
while the latter requires creating your own class extending <code>FilterPyKalmanFilterFactory</code>, and rewriting its <code>create_filter</code> method to return your own customized filter.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>R</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiplier for the sensor measurement noise matrix, by default 4.0</p>
              </div>
            </td>
            <td>
                  <code>4.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>Q</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiplier for the process uncertainty, by default 0.1</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>P</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiplier for the initial covariance matrix estimation, only in the entries that correspond to position (not speed) variables, by default 10.0</p>
              </div>
            </td>
            <td>
                  <code>10.0</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p><a href="https://filterpy.readthedocs.io/en/latest/kalman/KalmanFilter.html"><code>filterpy.KalmanFilter</code></a>.</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/filter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FilterPyKalmanFilterFactory</span><span class="p">(</span><span class="n">FilterFactory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class can be used either to change some parameters of the [KalmanFilter](https://filterpy.readthedocs.io/en/latest/kalman/KalmanFilter.html)</span>
<span class="sd">    that the tracker uses, or to fully customize the predictive filter implementation to use (as long as the methods and properties are compatible).</span>

<span class="sd">    The former case only requires changing the default parameters upon tracker creation: `tracker = Tracker(..., filter_factory=FilterPyKalmanFilterFactory(R=100))`,</span>
<span class="sd">    while the latter requires creating your own class extending `FilterPyKalmanFilterFactory`, and rewriting its `create_filter` method to return your own customized filter.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    R : float, optional</span>
<span class="sd">        Multiplier for the sensor measurement noise matrix, by default 4.0</span>
<span class="sd">    Q : float, optional</span>
<span class="sd">        Multiplier for the process uncertainty, by default 0.1</span>
<span class="sd">    P : float, optional</span>
<span class="sd">        Multiplier for the initial covariance matrix estimation, only in the entries that correspond to position (not speed) variables, by default 10.0</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    [`filterpy.KalmanFilter`](https://filterpy.readthedocs.io/en/latest/kalman/KalmanFilter.html).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span> <span class="n">Q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">P</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">R</span> <span class="o">=</span> <span class="n">R</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Q</span> <span class="o">=</span> <span class="n">Q</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">P</span> <span class="o">=</span> <span class="n">P</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_detection</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KalmanFilter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method returns a new predictive filter instance with the current setup, to be used by each new [`TrackedObject`][norfair.tracker.TrackedObject] that is created.</span>
<span class="sd">        This predictive filter will be used to estimate speed and future positions of the object, to better match the detections during its trajectory.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        initial_detection : np.ndarray</span>
<span class="sd">            numpy array of shape `(number of points per object, 2)`, corresponding to the [`Detection.points`][norfair.tracker.Detection] of the tracked object being born,</span>
<span class="sd">            which shall be used as initial position estimation for it.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        KalmanFilter</span>
<span class="sd">            The kalman filter</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">num_points</span> <span class="o">=</span> <span class="n">initial_detection</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dim_points</span> <span class="o">=</span> <span class="n">initial_detection</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">dim_z</span> <span class="o">=</span> <span class="n">dim_points</span> <span class="o">*</span> <span class="n">num_points</span>
        <span class="n">dim_x</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dim_z</span>  <span class="c1"># We need to accommodate for velocities</span>

        <span class="nb">filter</span> <span class="o">=</span> <span class="n">KalmanFilter</span><span class="p">(</span><span class="n">dim_x</span><span class="o">=</span><span class="n">dim_x</span><span class="p">,</span> <span class="n">dim_z</span><span class="o">=</span><span class="n">dim_z</span><span class="p">)</span>

        <span class="c1"># State transition matrix (models physics): numpy.array()</span>
        <span class="nb">filter</span><span class="o">.</span><span class="n">F</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">dim_x</span><span class="p">)</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># At each step we update pos with v * dt</span>

        <span class="nb">filter</span><span class="o">.</span><span class="n">F</span><span class="p">[:</span><span class="n">dim_z</span><span class="p">,</span> <span class="n">dim_z</span><span class="p">:]</span> <span class="o">=</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">dim_z</span><span class="p">)</span>

        <span class="c1"># Measurement function: numpy.array(dim_z, dim_x)</span>
        <span class="nb">filter</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span>
            <span class="n">dim_z</span><span class="p">,</span>
            <span class="n">dim_x</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Measurement uncertainty (sensor noise): numpy.array(dim_z, dim_z)</span>
        <span class="nb">filter</span><span class="o">.</span><span class="n">R</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span>

        <span class="c1"># Process uncertainty: numpy.array(dim_x, dim_x)</span>
        <span class="c1"># Don&#39;t decrease it too much or trackers pay too little attention to detections</span>
        <span class="nb">filter</span><span class="o">.</span><span class="n">Q</span><span class="p">[</span><span class="n">dim_z</span><span class="p">:,</span> <span class="n">dim_z</span><span class="p">:]</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span>

        <span class="c1"># Initial state: numpy.array(dim_x, 1)</span>
        <span class="nb">filter</span><span class="o">.</span><span class="n">x</span><span class="p">[:</span><span class="n">dim_z</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="n">initial_detection</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
        <span class="nb">filter</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">dim_z</span><span class="p">:]</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Estimation uncertainty: numpy.array(dim_x, dim_x)</span>
        <span class="nb">filter</span><span class="o">.</span><span class="n">P</span><span class="p">[</span><span class="n">dim_z</span><span class="p">:,</span> <span class="n">dim_z</span><span class="p">:]</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span>

        <span class="k">return</span> <span class="nb">filter</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="norfair.FilterPyKalmanFilterFactory.create_filter" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_filter</span><span class="p">(</span><span class="n">initial_detection</span><span class="p">)</span></code>

<a href="#norfair.FilterPyKalmanFilterFactory.create_filter" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>This method returns a new predictive filter instance with the current setup, to be used by each new <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject"><code>TrackedObject</code></a> that is created.
This predictive filter will be used to estimate speed and future positions of the object, to better match the detections during its trajectory.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>initial_detection</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>numpy array of shape <code>(number of points per object, 2)</code>, corresponding to the <a class="autorefs autorefs-internal" title="Detection" href="tracker/#norfair.tracker.Detection"><code>Detection.points</code></a> of the tracked object being born,
which shall be used as initial position estimation for it.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="norfair.kalman_filter.KalmanFilter">KalmanFilter</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The kalman filter</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/filter.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_detection</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">KalmanFilter</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This method returns a new predictive filter instance with the current setup, to be used by each new [`TrackedObject`][norfair.tracker.TrackedObject] that is created.</span>
<span class="sd">    This predictive filter will be used to estimate speed and future positions of the object, to better match the detections during its trajectory.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    initial_detection : np.ndarray</span>
<span class="sd">        numpy array of shape `(number of points per object, 2)`, corresponding to the [`Detection.points`][norfair.tracker.Detection] of the tracked object being born,</span>
<span class="sd">        which shall be used as initial position estimation for it.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    KalmanFilter</span>
<span class="sd">        The kalman filter</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">num_points</span> <span class="o">=</span> <span class="n">initial_detection</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">dim_points</span> <span class="o">=</span> <span class="n">initial_detection</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">dim_z</span> <span class="o">=</span> <span class="n">dim_points</span> <span class="o">*</span> <span class="n">num_points</span>
    <span class="n">dim_x</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dim_z</span>  <span class="c1"># We need to accommodate for velocities</span>

    <span class="nb">filter</span> <span class="o">=</span> <span class="n">KalmanFilter</span><span class="p">(</span><span class="n">dim_x</span><span class="o">=</span><span class="n">dim_x</span><span class="p">,</span> <span class="n">dim_z</span><span class="o">=</span><span class="n">dim_z</span><span class="p">)</span>

    <span class="c1"># State transition matrix (models physics): numpy.array()</span>
    <span class="nb">filter</span><span class="o">.</span><span class="n">F</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">dim_x</span><span class="p">)</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># At each step we update pos with v * dt</span>

    <span class="nb">filter</span><span class="o">.</span><span class="n">F</span><span class="p">[:</span><span class="n">dim_z</span><span class="p">,</span> <span class="n">dim_z</span><span class="p">:]</span> <span class="o">=</span> <span class="n">dt</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">dim_z</span><span class="p">)</span>

    <span class="c1"># Measurement function: numpy.array(dim_z, dim_x)</span>
    <span class="nb">filter</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span>
        <span class="n">dim_z</span><span class="p">,</span>
        <span class="n">dim_x</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Measurement uncertainty (sensor noise): numpy.array(dim_z, dim_z)</span>
    <span class="nb">filter</span><span class="o">.</span><span class="n">R</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span>

    <span class="c1"># Process uncertainty: numpy.array(dim_x, dim_x)</span>
    <span class="c1"># Don&#39;t decrease it too much or trackers pay too little attention to detections</span>
    <span class="nb">filter</span><span class="o">.</span><span class="n">Q</span><span class="p">[</span><span class="n">dim_z</span><span class="p">:,</span> <span class="n">dim_z</span><span class="p">:]</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span>

    <span class="c1"># Initial state: numpy.array(dim_x, 1)</span>
    <span class="nb">filter</span><span class="o">.</span><span class="n">x</span><span class="p">[:</span><span class="n">dim_z</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="n">initial_detection</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
    <span class="nb">filter</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">dim_z</span><span class="p">:]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1"># Estimation uncertainty: numpy.array(dim_x, dim_x)</span>
    <span class="nb">filter</span><span class="o">.</span><span class="n">P</span><span class="p">[</span><span class="n">dim_z</span><span class="p">:,</span> <span class="n">dim_z</span><span class="p">:]</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span>

    <span class="k">return</span> <span class="nb">filter</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.NoFilterFactory" class="doc doc-heading">
            <code>NoFilterFactory</code>


<a href="#norfair.NoFilterFactory" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="norfair.filter.FilterFactory">FilterFactory</span></code></p>



        <p>This class allows the user to try Norfair without any predictive filter or velocity estimation.</p>
<p>This track only by comparing the position of the previous detections to the ones in the current frame.</p>
<p>The throughput of this class in FPS is similar to the one achieved by the
<a href="#norfair.NoFilterFactory--optimizedkalmanfilterfactory"><code>OptimizedKalmanFilterFactory</code></a> class, so this class exists only for
comparative purposes and it is not advised to use it for tracking on a real application.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>FilterFactory</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/filter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NoFilterFactory</span><span class="p">(</span><span class="n">FilterFactory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class allows the user to try Norfair without any predictive filter or velocity estimation.</span>

<span class="sd">    This track only by comparing the position of the previous detections to the ones in the current frame.</span>

<span class="sd">    The throughput of this class in FPS is similar to the one achieved by the</span>
<span class="sd">    [`OptimizedKalmanFilterFactory`](#optimizedkalmanfilterfactory) class, so this class exists only for</span>
<span class="sd">    comparative purposes and it is not advised to use it for tracking on a real application.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    FilterFactory : _type_</span>
<span class="sd">        _description_</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_detection</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="n">num_points</span> <span class="o">=</span> <span class="n">initial_detection</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dim_points</span> <span class="o">=</span> <span class="n">initial_detection</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">dim_z</span> <span class="o">=</span> <span class="n">dim_points</span> <span class="o">*</span> <span class="n">num_points</span>  <span class="c1"># flattened positions</span>
        <span class="n">dim_x</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dim_z</span>  <span class="c1"># We need to accommodate for velocities</span>

        <span class="n">no_filter</span> <span class="o">=</span> <span class="n">NoFilter</span><span class="p">(</span>
            <span class="n">dim_x</span><span class="p">,</span>
            <span class="n">dim_z</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">no_filter</span><span class="o">.</span><span class="n">x</span><span class="p">[:</span><span class="n">dim_z</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="n">initial_detection</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
        <span class="k">return</span> <span class="n">no_filter</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.OptimizedKalmanFilterFactory" class="doc doc-heading">
            <code>OptimizedKalmanFilterFactory</code>


<a href="#norfair.OptimizedKalmanFilterFactory" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="norfair.filter.FilterFactory">FilterFactory</span></code></p>



        <p>Creates faster Filters than <a class="autorefs autorefs-internal" href="filter/#norfair.filter.FilterPyKalmanFilterFactory"><code>FilterPyKalmanFilterFactory</code></a>.</p>
<p>It allows the user to create Kalman Filter optimized for tracking and set its parameters.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>R</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiplier for the sensor measurement noise matrix.</p>
              </div>
            </td>
            <td>
                  <code>4.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>Q</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiplier for the process uncertainty.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pos_variance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiplier for the initial covariance matrix estimation, only in the entries that correspond to position (not speed) variables.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pos_vel_covariance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiplier for the initial covariance matrix estimation, only in the entries that correspond to the covariance between position and speed.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vel_variance</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Multiplier for the initial covariance matrix estimation, only in the entries that correspond to velocity (not position) variables.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/filter.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OptimizedKalmanFilterFactory</span><span class="p">(</span><span class="n">FilterFactory</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates faster Filters than [`FilterPyKalmanFilterFactory`][norfair.filter.FilterPyKalmanFilterFactory].</span>

<span class="sd">    It allows the user to create Kalman Filter optimized for tracking and set its parameters.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    R : float, optional</span>
<span class="sd">        Multiplier for the sensor measurement noise matrix.</span>
<span class="sd">    Q : float, optional</span>
<span class="sd">        Multiplier for the process uncertainty.</span>
<span class="sd">    pos_variance : float, optional</span>
<span class="sd">        Multiplier for the initial covariance matrix estimation, only in the entries that correspond to position (not speed) variables.</span>
<span class="sd">    pos_vel_covariance : float, optional</span>
<span class="sd">        Multiplier for the initial covariance matrix estimation, only in the entries that correspond to the covariance between position and speed.</span>
<span class="sd">    vel_variance : float, optional</span>
<span class="sd">        Multiplier for the initial covariance matrix estimation, only in the entries that correspond to velocity (not position) variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">R</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span>
        <span class="n">Q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="n">pos_variance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">pos_vel_covariance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">vel_variance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">R</span> <span class="o">=</span> <span class="n">R</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Q</span> <span class="o">=</span> <span class="n">Q</span>

        <span class="c1"># entrances P matrix of KF</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_variance</span> <span class="o">=</span> <span class="n">pos_variance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos_vel_covariance</span> <span class="o">=</span> <span class="n">pos_vel_covariance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vel_variance</span> <span class="o">=</span> <span class="n">vel_variance</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_detection</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="n">num_points</span> <span class="o">=</span> <span class="n">initial_detection</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dim_points</span> <span class="o">=</span> <span class="n">initial_detection</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">dim_z</span> <span class="o">=</span> <span class="n">dim_points</span> <span class="o">*</span> <span class="n">num_points</span>  <span class="c1"># flattened positions</span>
        <span class="n">dim_x</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">dim_z</span>  <span class="c1"># We need to accommodate for velocities</span>

        <span class="n">custom_filter</span> <span class="o">=</span> <span class="n">OptimizedKalmanFilter</span><span class="p">(</span>
            <span class="n">dim_x</span><span class="p">,</span>
            <span class="n">dim_z</span><span class="p">,</span>
            <span class="n">pos_variance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_variance</span><span class="p">,</span>
            <span class="n">pos_vel_covariance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_vel_covariance</span><span class="p">,</span>
            <span class="n">vel_variance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vel_variance</span><span class="p">,</span>
            <span class="n">q</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">Q</span><span class="p">,</span>
            <span class="n">r</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">custom_filter</span><span class="o">.</span><span class="n">x</span><span class="p">[:</span><span class="n">dim_z</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="n">initial_detection</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>

        <span class="k">return</span> <span class="n">custom_filter</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.Detection" class="doc doc-heading">
            <code>Detection</code>


<a href="#norfair.Detection" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>Detections returned by the detector must be converted to a <code>Detection</code> object before being used by Norfair.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Points detected. Must be a rank 2 array with shape <code>(n_points, n_dimensions)</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scores</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An array of length <code>n_points</code> which assigns a score to each of the points defined in <code>points</code>.</p>
<p>This is used to inform the tracker of which points to ignore;
any point with a score below <code>detection_threshold</code> will be ignored.</p>
<p>This useful for cases in which detections don't always have every point present, as is often the case in pose estimators.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The place to store any extra data which may be useful when calculating the distance function.
Anything stored here will be available to use inside the distance function.</p>
<p>This enables the development of more interesting trackers which can do things like assign an appearance embedding to each
detection to aid in its tracking.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td>
                  <code><span title="collections.abc.Hashable">Hashable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When working with multiple classes the detection's label can be stored to be used as a matching condition when associating
tracked objects with new detections. Label's type must be hashable for drawing purposes.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>embedding</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The embedding for the reid_distance.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/tracker.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Detection</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Detections returned by the detector must be converted to a `Detection` object before being used by Norfair.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    points : np.ndarray</span>
<span class="sd">        Points detected. Must be a rank 2 array with shape `(n_points, n_dimensions)`.</span>
<span class="sd">    scores : np.ndarray, optional</span>
<span class="sd">        An array of length `n_points` which assigns a score to each of the points defined in `points`.</span>

<span class="sd">        This is used to inform the tracker of which points to ignore;</span>
<span class="sd">        any point with a score below `detection_threshold` will be ignored.</span>

<span class="sd">        This useful for cases in which detections don&#39;t always have every point present, as is often the case in pose estimators.</span>
<span class="sd">    data : Any, optional</span>
<span class="sd">        The place to store any extra data which may be useful when calculating the distance function.</span>
<span class="sd">        Anything stored here will be available to use inside the distance function.</span>

<span class="sd">        This enables the development of more interesting trackers which can do things like assign an appearance embedding to each</span>
<span class="sd">        detection to aid in its tracking.</span>
<span class="sd">    label : Hashable, optional</span>
<span class="sd">        When working with multiple classes the detection&#39;s label can be stored to be used as a matching condition when associating</span>
<span class="sd">        tracked objects with new detections. Label&#39;s type must be hashable for drawing purposes.</span>
<span class="sd">    embedding : Any, optional</span>
<span class="sd">        The embedding for the reid_distance.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">points</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">scores</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="n">Hashable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">embedding</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="n">validate_points</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scores</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scores</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">points</span><span class="p">),</span> <span class="p">(</span>
                <span class="s2">&quot;scores should be a np.ndarray with it&#39;s length being equal to the amount of points.&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">scores</span>
        <span class="k">elif</span> <span class="n">scores</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">),))</span> <span class="o">+</span> <span class="n">scores</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scores</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">absolute_points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">points</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">embedding</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_coordinate_transformation</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">coordinate_transformation</span><span class="p">:</span> <span class="n">CoordinatesTransformation</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">coordinate_transformation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">absolute_points</span> <span class="o">=</span> <span class="n">coordinate_transformation</span><span class="o">.</span><span class="n">rel_to_abs</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">absolute_points</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.Tracker" class="doc doc-heading">
            <code>Tracker</code>


<a href="#norfair.Tracker" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>The class in charge of performing the tracking of the detections produced by a detector.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>distance_function</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="str">str</span>, <span title="collections.abc.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a>, <a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>], <span title="float">float</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function used by the tracker to determine the distance between newly detected objects and the objects that are currently being tracked.
This function should take 2 input arguments, the first being a <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.Detection">Detection</a>, and the second a <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>.
It has to return a <code>float</code> with the distance it calculates.
Some common distances are implemented in <a class="autorefs autorefs-internal" title="Distances" href="distances/#distances">distances</a>, as a shortcut the tracker accepts the name of these <a class="autorefs autorefs-internal" title="get_distance_by_name(name)" href="distances/#norfair.distances.get_distance_by_name">predefined distances</a>.
Scipy's predefined distances are also accepted. A <code>str</code> with one of the available metrics in
<a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cdist.html"><code>scipy.spatial.distance.cdist</code></a>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>distance_threshold</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Defines what is the maximum distance that can constitute a match.
Detections and tracked objects whose distances are above this threshold won't be matched by the tracker.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>hit_counter_max</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Each tracked objects keeps an internal hit counter which tracks how often it's getting matched to a detection,
each time it gets a match this counter goes up, and each time it doesn't it goes down.</p>
<p>If it goes below 0 the object gets destroyed. This argument defines how large this inertia can grow,
and therefore defines how long an object can live without getting matched to any detections, before it is displaced as a dead object, if no ReID distance function is implemented it will be destroyed.</p>
              </div>
            </td>
            <td>
                  <code>15</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>initialization_delay</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Determines how large the object's hit counter must be in order to be considered as initialized, and get returned to the user as a real object.
 It must be smaller than <code>hit_counter_max</code> or otherwise the object would never be initialized.</p>
<p>If set to 0, objects will get returned to the user as soon as they are detected for the first time,
 which can be problematic as this can result in objects appearing and immediately dissapearing.</p>
<p>Defaults to <code>hit_counter_max / 2</code></p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pointwise_hit_counter_max</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Each tracked object keeps track of how often the points it's tracking have been getting matched.
Points that are getting matched (<code>pointwise_hit_counter &gt; 0</code>) are said to be live, and points which aren't (<code>pointwise_hit_counter = 0</code>)
are said to not be live.</p>
<p>This is used to determine things like which individual points in a tracked object get drawn by <a class="autorefs autorefs-internal" title="draw_tracked_objects(frame, objects, radius=None, color=None, id_size=None, id_thickness=None, draw_points=True, color_by_label=False, draw_labels=False, label_size=None)" href="drawing/#norfair.drawing.draw_tracked_objects"><code>draw_tracked_objects</code></a> and which don't.
This argument defines how large the inertia for each point of a tracker can grow.</p>
              </div>
            </td>
            <td>
                  <code>4</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>detection_threshold</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sets the threshold at which the scores of the points in a detection being fed into the tracker must dip below to be ignored by the tracker.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_factory</code>
            </td>
            <td>
                  <code><span title="norfair.filter.FilterFactory">FilterFactory</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>This parameter can be used to change what filter the <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject"><code>TrackedObject</code></a> instances created by the tracker will use.
Defaults to <a class="autorefs autorefs-internal" title="OptimizedKalmanFilterFactory" href="filter/#norfair.filter.OptimizedKalmanFilterFactory"><code>OptimizedKalmanFilterFactory()</code></a></p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="OptimizedKalmanFilterFactory (norfair.filter.OptimizedKalmanFilterFactory)" href="filter/#norfair.filter.OptimizedKalmanFilterFactory">OptimizedKalmanFilterFactory</a>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>past_detections_length</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How many past detections to save for each tracked object.
Norfair tries to distribute these past detections uniformly through the object's lifetime so they're more representative.
Very useful if you want to add metric learning to your model, as you can associate an embedding to each detection and access them in your distance function.</p>
              </div>
            </td>
            <td>
                  <code>4</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reid_distance_function</code>
            </td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>, <a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>], <span title="float">float</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Function used by the tracker to determine the ReID distance between newly detected trackers and unmatched trackers by the distance function.</p>
<p>This function should take 2 input arguments, the first being tracked objects in the initialization phase of type <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject"><code>TrackedObject</code></a>,
and the second being tracked objects that have been unmatched of type <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.TrackedObject"><code>TrackedObject</code></a>. It returns a <code>float</code> with the distance it
calculates.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reid_distance_threshold</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Defines what is the maximum ReID distance that can constitute a match.</p>
<p>Tracked objects whose distance is above this threshold won't be merged, if they are the oldest tracked object will be maintained
with the position of the new tracked object.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>reid_hit_counter_max</code>
            </td>
            <td>
                  <code><span title="int">int</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Each tracked object keeps an internal ReID hit counter which tracks how often it's getting recognized by another tracker,
each time it gets a match this counter goes up, and each time it doesn't it goes down. If it goes below 0 the object gets destroyed.
If used, this argument (<code>reid_hit_counter_max</code>) defines how long an object can live without getting matched to any detections, before it is destroyed.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/tracker.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Tracker</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The class in charge of performing the tracking of the detections produced by a detector.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    distance_function : Union[str, Callable[[Detection, TrackedObject], float]]</span>
<span class="sd">        Function used by the tracker to determine the distance between newly detected objects and the objects that are currently being tracked.</span>
<span class="sd">        This function should take 2 input arguments, the first being a [Detection][norfair.tracker.Detection], and the second a [TrackedObject][norfair.tracker.TrackedObject].</span>
<span class="sd">        It has to return a `float` with the distance it calculates.</span>
<span class="sd">        Some common distances are implemented in [distances][], as a shortcut the tracker accepts the name of these [predefined distances][norfair.distances.get_distance_by_name].</span>
<span class="sd">        Scipy&#39;s predefined distances are also accepted. A `str` with one of the available metrics in</span>
<span class="sd">        [`scipy.spatial.distance.cdist`](https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cdist.html).</span>
<span class="sd">    distance_threshold : float</span>
<span class="sd">        Defines what is the maximum distance that can constitute a match.</span>
<span class="sd">        Detections and tracked objects whose distances are above this threshold won&#39;t be matched by the tracker.</span>
<span class="sd">    hit_counter_max : int, optional</span>
<span class="sd">        Each tracked objects keeps an internal hit counter which tracks how often it&#39;s getting matched to a detection,</span>
<span class="sd">        each time it gets a match this counter goes up, and each time it doesn&#39;t it goes down.</span>

<span class="sd">        If it goes below 0 the object gets destroyed. This argument defines how large this inertia can grow,</span>
<span class="sd">        and therefore defines how long an object can live without getting matched to any detections, before it is displaced as a dead object, if no ReID distance function is implemented it will be destroyed.</span>
<span class="sd">    initialization_delay : Optional[int], optional</span>
<span class="sd">         Determines how large the object&#39;s hit counter must be in order to be considered as initialized, and get returned to the user as a real object.</span>
<span class="sd">         It must be smaller than `hit_counter_max` or otherwise the object would never be initialized.</span>

<span class="sd">         If set to 0, objects will get returned to the user as soon as they are detected for the first time,</span>
<span class="sd">         which can be problematic as this can result in objects appearing and immediately dissapearing.</span>

<span class="sd">         Defaults to `hit_counter_max / 2`</span>
<span class="sd">    pointwise_hit_counter_max : int, optional</span>
<span class="sd">        Each tracked object keeps track of how often the points it&#39;s tracking have been getting matched.</span>
<span class="sd">        Points that are getting matched (`pointwise_hit_counter &gt; 0`) are said to be live, and points which aren&#39;t (`pointwise_hit_counter = 0`)</span>
<span class="sd">        are said to not be live.</span>

<span class="sd">        This is used to determine things like which individual points in a tracked object get drawn by [`draw_tracked_objects`][norfair.drawing.draw_tracked_objects] and which don&#39;t.</span>
<span class="sd">        This argument defines how large the inertia for each point of a tracker can grow.</span>
<span class="sd">    detection_threshold : float, optional</span>
<span class="sd">        Sets the threshold at which the scores of the points in a detection being fed into the tracker must dip below to be ignored by the tracker.</span>
<span class="sd">    filter_factory : FilterFactory, optional</span>
<span class="sd">        This parameter can be used to change what filter the [`TrackedObject`][norfair.tracker.TrackedObject] instances created by the tracker will use.</span>
<span class="sd">        Defaults to [`OptimizedKalmanFilterFactory()`][norfair.filter.OptimizedKalmanFilterFactory]</span>
<span class="sd">    past_detections_length : int, optional</span>
<span class="sd">        How many past detections to save for each tracked object.</span>
<span class="sd">        Norfair tries to distribute these past detections uniformly through the object&#39;s lifetime so they&#39;re more representative.</span>
<span class="sd">        Very useful if you want to add metric learning to your model, as you can associate an embedding to each detection and access them in your distance function.</span>
<span class="sd">    reid_distance_function: Optional[Callable[[&quot;TrackedObject&quot;, &quot;TrackedObject&quot;], float]]</span>
<span class="sd">        Function used by the tracker to determine the ReID distance between newly detected trackers and unmatched trackers by the distance function.</span>

<span class="sd">        This function should take 2 input arguments, the first being tracked objects in the initialization phase of type [`TrackedObject`][norfair.tracker.TrackedObject],</span>
<span class="sd">        and the second being tracked objects that have been unmatched of type [`TrackedObject`][norfair.tracker.TrackedObject]. It returns a `float` with the distance it</span>
<span class="sd">        calculates.</span>
<span class="sd">    reid_distance_threshold: float</span>
<span class="sd">        Defines what is the maximum ReID distance that can constitute a match.</span>

<span class="sd">        Tracked objects whose distance is above this threshold won&#39;t be merged, if they are the oldest tracked object will be maintained</span>
<span class="sd">        with the position of the new tracked object.</span>
<span class="sd">    reid_hit_counter_max: Optional[int]</span>
<span class="sd">        Each tracked object keeps an internal ReID hit counter which tracks how often it&#39;s getting recognized by another tracker,</span>
<span class="sd">        each time it gets a match this counter goes up, and each time it doesn&#39;t it goes down. If it goes below 0 the object gets destroyed.</span>
<span class="sd">        If used, this argument (`reid_hit_counter_max`) defines how long an object can live without getting matched to any detections, before it is destroyed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance_function</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">],</span>
        <span class="n">distance_threshold</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">hit_counter_max</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
        <span class="n">initialization_delay</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pointwise_hit_counter_max</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
        <span class="n">detection_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">filter_factory</span><span class="p">:</span> <span class="n">FilterFactory</span> <span class="o">=</span> <span class="n">OptimizedKalmanFilterFactory</span><span class="p">(),</span>
        <span class="n">past_detections_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
        <span class="n">reid_distance_function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">,</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">]</span>
        <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reid_distance_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">reid_hit_counter_max</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">TrackedObject</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Convert distance_function to Distance object</span>
        <span class="n">distance_obj</span><span class="p">:</span> <span class="n">Distance</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">distance_function</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">distance_obj</span> <span class="o">=</span> <span class="n">get_distance_by_name</span><span class="p">(</span><span class="n">distance_function</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">callable</span><span class="p">(</span><span class="n">distance_function</span><span class="p">):</span>
            <span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;You are using a scalar distance function. If you want to speed up the&quot;</span>
                <span class="s2">&quot; tracking process please consider using a vectorized distance&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; function such as </span><span class="si">{</span><span class="n">AVAILABLE_VECTORIZED_DISTANCES</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
            <span class="n">distance_obj</span> <span class="o">=</span> <span class="n">ScalarDistance</span><span class="p">(</span><span class="n">distance_function</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Argument `distance_function` should be a string or function but is&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">distance_function</span><span class="p">)</span><span class="si">}</span><span class="s2"> instead.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span> <span class="o">=</span> <span class="n">distance_obj</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hit_counter_max</span> <span class="o">=</span> <span class="n">hit_counter_max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reid_hit_counter_max</span> <span class="o">=</span> <span class="n">reid_hit_counter_max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pointwise_hit_counter_max</span> <span class="o">=</span> <span class="n">pointwise_hit_counter_max</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_factory</span> <span class="o">=</span> <span class="n">filter_factory</span>
        <span class="k">if</span> <span class="n">past_detections_length</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">past_detections_length</span> <span class="o">=</span> <span class="n">past_detections_length</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Argument `past_detections_length` is </span><span class="si">{</span><span class="n">past_detections_length</span><span class="si">}</span><span class="s2"> and should be larger than 0.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">initialization_delay</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialization_delay</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hit_counter_max</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">initialization_delay</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">initialization_delay</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hit_counter_max</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Argument &#39;initialization_delay&#39; for &#39;Tracker&#39; class should be an int between 0 and (hit_counter_max = </span><span class="si">{</span><span class="n">hit_counter_max</span><span class="si">}</span><span class="s2">). The selected value is </span><span class="si">{</span><span class="n">initialization_delay</span><span class="si">}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initialization_delay</span> <span class="o">=</span> <span class="n">initialization_delay</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">distance_threshold</span> <span class="o">=</span> <span class="n">distance_threshold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detection_threshold</span> <span class="o">=</span> <span class="n">detection_threshold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_function</span><span class="p">:</span> <span class="n">ScalarDistance</span> <span class="o">|</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">reid_distance_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_function</span> <span class="o">=</span> <span class="n">ScalarDistance</span><span class="p">(</span><span class="n">reid_distance_function</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_function</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_threshold</span> <span class="o">=</span> <span class="n">reid_distance_threshold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_obj_factory</span> <span class="o">=</span> <span class="n">_TrackedObjectFactory</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">detections</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Detection&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">coord_transformations</span><span class="p">:</span> <span class="n">CoordinatesTransformation</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Process detections found in each frame.</span>

<span class="sd">        The detections can be matched to previous tracked objects or new ones will be created</span>
<span class="sd">        according to the configuration of the Tracker.</span>
<span class="sd">        The currently alive and initialized tracked objects are returned</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        detections : Optional[List[Detection]], optional</span>
<span class="sd">            A list of [`Detection`][norfair.tracker.Detection] which represent the detections found in the current frame being processed.</span>

<span class="sd">            If no detections have been found in the current frame, or the user is purposely skipping frames to improve video processing time,</span>
<span class="sd">            this argument should be set to None or ignored, as the update function is needed to advance the state of the Kalman Filters inside the tracker.</span>
<span class="sd">        period : int, optional</span>
<span class="sd">            The user can chose not to run their detector on all frames, so as to process video faster.</span>
<span class="sd">            This parameter sets every how many frames the detector is getting ran,</span>
<span class="sd">            so that the tracker is aware of this situation and can handle it properly.</span>

<span class="sd">            This argument can be reset on each frame processed,</span>
<span class="sd">            which is useful if the user is dynamically changing how many frames the detector is skipping on a video when working in real-time.</span>
<span class="sd">        coord_transformations: Optional[CoordinatesTransformation]</span>
<span class="sd">            The coordinate transformation calculated by the [MotionEstimator][norfair.camera_motion.MotionEstimator].</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        List[TrackedObject]</span>
<span class="sd">            The list of active tracked objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">coord_transformations</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">detections</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">det</span> <span class="ow">in</span> <span class="n">detections</span><span class="p">:</span>
                <span class="n">det</span><span class="o">.</span><span class="n">update_coordinate_transformation</span><span class="p">(</span><span class="n">coord_transformations</span><span class="p">)</span>

        <span class="c1"># Remove stale trackers and make candidate object real if the hit counter is positive</span>
        <span class="n">alive_objects</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">dead_objects</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reid_hit_counter_max</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span> <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">hit_counter_is_positive</span>
            <span class="p">]</span>
            <span class="n">alive_objects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tracked_objects</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">reid_hit_counter_is_positive</span><span class="p">:</span>
                    <span class="n">tracked_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">hit_counter_is_positive</span><span class="p">:</span>
                        <span class="n">alive_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dead_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span> <span class="o">=</span> <span class="n">tracked_objects</span>

        <span class="c1"># Update tracker</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">tracker_step</span><span class="p">()</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">update_coordinate_transformation</span><span class="p">(</span><span class="n">coord_transformations</span><span class="p">)</span>

        <span class="c1"># Update initialized tracked objects with detections</span>
        <span class="p">(</span>
            <span class="n">unmatched_detections</span><span class="p">,</span>
            <span class="n">_</span><span class="p">,</span>
            <span class="n">unmatched_init_trackers</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_objects_in_place</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">distance_threshold</span><span class="p">,</span>
            <span class="p">[</span><span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">alive_objects</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">o</span><span class="o">.</span><span class="n">is_initializing</span><span class="p">],</span>
            <span class="n">detections</span><span class="p">,</span>
            <span class="n">period</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Update not yet initialized tracked objects with yet unmatched detections</span>
        <span class="p">(</span>
            <span class="n">unmatched_detections</span><span class="p">,</span>
            <span class="n">matched_not_init_trackers</span><span class="p">,</span>
            <span class="n">_</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_objects_in_place</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">distance_threshold</span><span class="p">,</span>
            <span class="p">[</span><span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">alive_objects</span> <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">is_initializing</span><span class="p">],</span>
            <span class="n">unmatched_detections</span><span class="p">,</span>
            <span class="n">period</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Match unmatched initialized tracked objects with not yet initialized tracked objects</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_objects_in_place</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_function</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_threshold</span><span class="p">,</span>
                <span class="n">unmatched_init_trackers</span> <span class="o">+</span> <span class="n">dead_objects</span><span class="p">,</span>
                <span class="n">matched_not_init_trackers</span><span class="p">,</span>
                <span class="n">period</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="c1"># Create new tracked objects from remaining unmatched detections</span>
        <span class="k">for</span> <span class="n">detection</span> <span class="ow">in</span> <span class="n">unmatched_detections</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_obj_factory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                    <span class="n">initial_detection</span><span class="o">=</span><span class="n">detection</span><span class="p">,</span>
                    <span class="n">hit_counter_max</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hit_counter_max</span><span class="p">,</span>
                    <span class="n">initialization_delay</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">initialization_delay</span><span class="p">,</span>
                    <span class="n">pointwise_hit_counter_max</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pointwise_hit_counter_max</span><span class="p">,</span>
                    <span class="n">detection_threshold</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detection_threshold</span><span class="p">,</span>
                    <span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span>
                    <span class="n">filter_factory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_factory</span><span class="p">,</span>
                    <span class="n">past_detections_length</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">past_detections_length</span><span class="p">,</span>
                    <span class="n">reid_hit_counter_max</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">reid_hit_counter_max</span><span class="p">,</span>
                    <span class="n">coord_transformations</span><span class="o">=</span><span class="n">coord_transformations</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_active_objects</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">current_object_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Number of active TrackedObjects&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_active_objects</span><span class="p">())</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">total_object_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Total number of TrackedObjects initialized in the by this Tracker&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_obj_factory</span><span class="o">.</span><span class="n">count</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_active_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the list of active objects</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        List[&quot;TrackedObject&quot;]</span>
<span class="sd">            The list of active objects</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">o</span>
            <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">o</span><span class="o">.</span><span class="n">is_initializing</span> <span class="ow">and</span> <span class="n">o</span><span class="o">.</span><span class="n">hit_counter_is_positive</span>
        <span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_update_objects_in_place</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance_function</span><span class="p">:</span> <span class="n">Distance</span><span class="p">,</span>
        <span class="n">distance_threshold</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span>
        <span class="n">candidates</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Detection&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">period</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">]]:</span>
        <span class="k">if</span> <span class="n">candidates</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">distance_function</span><span class="o">.</span><span class="n">get_distances</span><span class="p">(</span><span class="n">objects</span><span class="p">,</span> <span class="n">candidates</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">distance_matrix</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Received nan values from distance function, please check your distance function for errors!&quot;</span>
                <span class="p">)</span>

            <span class="c1"># Used just for debugging distance function</span>
            <span class="k">if</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">minimum</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">distance_matrix</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)):</span>
                    <span class="n">objects</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">current_min_distance</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">minimum</span> <span class="k">if</span> <span class="n">minimum</span> <span class="o">&lt;</span> <span class="n">distance_threshold</span> <span class="k">else</span> <span class="kc">None</span>
                    <span class="p">)</span>

            <span class="n">matched_cand_indices</span><span class="p">,</span> <span class="n">matched_obj_indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">match_dets_and_objs</span><span class="p">(</span>
                <span class="n">distance_matrix</span><span class="p">,</span> <span class="n">distance_threshold</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">matched_cand_indices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">unmatched_candidates</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">d</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span>
                        <span class="n">candidates</span>  <span class="c1"># pyrefly: ignore[bad-argument-type]</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">matched_cand_indices</span>
                <span class="p">]</span>
                <span class="n">unmatched_objects</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">d</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">matched_obj_indices</span>
                <span class="p">]</span>
                <span class="n">matched_objects</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="c1"># Handle matched people/detections</span>
                <span class="k">for</span> <span class="n">match_cand_idx</span><span class="p">,</span> <span class="n">match_obj_idx</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
                    <span class="n">matched_cand_indices</span><span class="p">,</span> <span class="n">matched_obj_indices</span>
                <span class="p">):</span>
                    <span class="n">match_distance</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="p">[</span><span class="n">match_cand_idx</span><span class="p">,</span> <span class="n">match_obj_idx</span><span class="p">]</span>
                    <span class="n">matched_candidate</span> <span class="o">=</span> <span class="n">candidates</span><span class="p">[</span><span class="n">match_cand_idx</span><span class="p">]</span>
                    <span class="n">matched_object</span> <span class="o">=</span> <span class="n">objects</span><span class="p">[</span><span class="n">match_obj_idx</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">match_distance</span> <span class="o">&lt;</span> <span class="n">distance_threshold</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">matched_candidate</span><span class="p">,</span> <span class="n">Detection</span><span class="p">):</span>
                            <span class="n">matched_object</span><span class="o">.</span><span class="n">hit</span><span class="p">(</span><span class="n">matched_candidate</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">)</span>
                            <span class="n">matched_object</span><span class="o">.</span><span class="n">last_distance</span> <span class="o">=</span> <span class="n">match_distance</span>
                            <span class="n">matched_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matched_object</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">matched_candidate</span><span class="p">,</span> <span class="n">TrackedObject</span><span class="p">):</span>
                            <span class="c1"># Merge new TrackedObject with the old one</span>
                            <span class="n">matched_object</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">matched_candidate</span><span class="p">)</span>
                            <span class="c1"># If we are matching TrackedObject instances we want to get rid of the</span>
                            <span class="c1"># already matched candidate to avoid matching it again in future frames</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">matched_candidate</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">unmatched_candidates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matched_candidate</span><span class="p">)</span>
                        <span class="n">unmatched_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">matched_object</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">unmatched_candidates</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span>
                <span class="n">matched_objects</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">unmatched_objects</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">unmatched_candidates</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">matched_objects</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">unmatched_objects</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">unmatched_candidates</span><span class="p">,</span> <span class="n">matched_objects</span><span class="p">,</span> <span class="n">unmatched_objects</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">match_dets_and_objs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance_matrix</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Matches detections with tracked_objects from a distance matrix</span>

<span class="sd">        I used to match by minimizing the global distances, but found several</span>
<span class="sd">        cases in which this was not optimal. So now I just match by starting</span>
<span class="sd">        with the global minimum distance and matching the det-obj corresponding</span>
<span class="sd">        to that distance, then taking the second minimum, and so on until we</span>
<span class="sd">        reach the distance_threshold.</span>

<span class="sd">        This avoids the the algorithm getting cute with us and matching things</span>
<span class="sd">        that shouldn&#39;t be matching just for the sake of minimizing the global</span>
<span class="sd">        distance, which is what used to happen</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># NOTE: This implementation is terribly inefficient, but it doesn&#39;t</span>
        <span class="c1">#       seem to affect the fps at all.</span>
        <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">det_idxs</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">obj_idxs</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">current_min</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

            <span class="k">while</span> <span class="n">current_min</span> <span class="o">&lt;</span> <span class="n">distance_threshold</span><span class="p">:</span>
                <span class="n">flattened_arg_min</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">argmin</span><span class="p">()</span>
                <span class="n">det_idx</span> <span class="o">=</span> <span class="n">flattened_arg_min</span> <span class="o">//</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">obj_idx</span> <span class="o">=</span> <span class="n">flattened_arg_min</span> <span class="o">%</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">det_idxs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">det_idx</span><span class="p">)</span>
                <span class="n">obj_idxs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj_idx</span><span class="p">)</span>
                <span class="n">distance_matrix</span><span class="p">[</span><span class="n">det_idx</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">distance_threshold</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">distance_matrix</span><span class="p">[:,</span> <span class="n">obj_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">distance_threshold</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">current_min</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">det_idxs</span><span class="p">,</span> <span class="n">obj_idxs</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[],</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="norfair.Tracker.current_object_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">current_object_count</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#norfair.Tracker.current_object_count" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Number of active TrackedObjects</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="norfair.Tracker.total_object_count" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">total_object_count</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#norfair.Tracker.total_object_count" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Total number of TrackedObjects initialized in the by this Tracker</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="norfair.Tracker.update" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="n">detections</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">coord_transformations</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#norfair.Tracker.update" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Process detections found in each frame.</p>
<p>The detections can be matched to previous tracked objects or new ones will be created
according to the configuration of the Tracker.
The currently alive and initialized tracked objects are returned</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>detections</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="List">List</span>[<a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of <a class="autorefs autorefs-internal" href="tracker/#norfair.tracker.Detection"><code>Detection</code></a> which represent the detections found in the current frame being processed.</p>
<p>If no detections have been found in the current frame, or the user is purposely skipping frames to improve video processing time,
this argument should be set to None or ignored, as the update function is needed to advance the state of the Kalman Filters inside the tracker.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>period</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The user can chose not to run their detector on all frames, so as to process video faster.
This parameter sets every how many frames the detector is getting ran,
so that the tracker is aware of this situation and can handle it properly.</p>
<p>This argument can be reset on each frame processed,
which is useful if the user is dynamically changing how many frames the detector is skipping on a video when working in real-time.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coord_transformations</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CoordinatesTransformation (norfair.camera_motion.CoordinatesTransformation)" href="camera_motion/#norfair.camera_motion.CoordinatesTransformation">CoordinatesTransformation</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The coordinate transformation calculated by the <a class="autorefs autorefs-internal" href="camera_motion/#norfair.camera_motion.MotionEstimator">MotionEstimator</a>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="List">List</span>[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of active tracked objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/tracker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">detections</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Detection&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">period</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">coord_transformations</span><span class="p">:</span> <span class="n">CoordinatesTransformation</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Process detections found in each frame.</span>

<span class="sd">    The detections can be matched to previous tracked objects or new ones will be created</span>
<span class="sd">    according to the configuration of the Tracker.</span>
<span class="sd">    The currently alive and initialized tracked objects are returned</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    detections : Optional[List[Detection]], optional</span>
<span class="sd">        A list of [`Detection`][norfair.tracker.Detection] which represent the detections found in the current frame being processed.</span>

<span class="sd">        If no detections have been found in the current frame, or the user is purposely skipping frames to improve video processing time,</span>
<span class="sd">        this argument should be set to None or ignored, as the update function is needed to advance the state of the Kalman Filters inside the tracker.</span>
<span class="sd">    period : int, optional</span>
<span class="sd">        The user can chose not to run their detector on all frames, so as to process video faster.</span>
<span class="sd">        This parameter sets every how many frames the detector is getting ran,</span>
<span class="sd">        so that the tracker is aware of this situation and can handle it properly.</span>

<span class="sd">        This argument can be reset on each frame processed,</span>
<span class="sd">        which is useful if the user is dynamically changing how many frames the detector is skipping on a video when working in real-time.</span>
<span class="sd">    coord_transformations: Optional[CoordinatesTransformation]</span>
<span class="sd">        The coordinate transformation calculated by the [MotionEstimator][norfair.camera_motion.MotionEstimator].</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    List[TrackedObject]</span>
<span class="sd">        The list of active tracked objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">coord_transformations</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">detections</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">det</span> <span class="ow">in</span> <span class="n">detections</span><span class="p">:</span>
            <span class="n">det</span><span class="o">.</span><span class="n">update_coordinate_transformation</span><span class="p">(</span><span class="n">coord_transformations</span><span class="p">)</span>

    <span class="c1"># Remove stale trackers and make candidate object real if the hit counter is positive</span>
    <span class="n">alive_objects</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">dead_objects</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reid_hit_counter_max</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span> <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">hit_counter_is_positive</span>
        <span class="p">]</span>
        <span class="n">alive_objects</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tracked_objects</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">reid_hit_counter_is_positive</span><span class="p">:</span>
                <span class="n">tracked_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">hit_counter_is_positive</span><span class="p">:</span>
                    <span class="n">alive_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dead_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span> <span class="o">=</span> <span class="n">tracked_objects</span>

    <span class="c1"># Update tracker</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">tracker_step</span><span class="p">()</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">update_coordinate_transformation</span><span class="p">(</span><span class="n">coord_transformations</span><span class="p">)</span>

    <span class="c1"># Update initialized tracked objects with detections</span>
    <span class="p">(</span>
        <span class="n">unmatched_detections</span><span class="p">,</span>
        <span class="n">_</span><span class="p">,</span>
        <span class="n">unmatched_init_trackers</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_objects_in_place</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_threshold</span><span class="p">,</span>
        <span class="p">[</span><span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">alive_objects</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">o</span><span class="o">.</span><span class="n">is_initializing</span><span class="p">],</span>
        <span class="n">detections</span><span class="p">,</span>
        <span class="n">period</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Update not yet initialized tracked objects with yet unmatched detections</span>
    <span class="p">(</span>
        <span class="n">unmatched_detections</span><span class="p">,</span>
        <span class="n">matched_not_init_trackers</span><span class="p">,</span>
        <span class="n">_</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_objects_in_place</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_function</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance_threshold</span><span class="p">,</span>
        <span class="p">[</span><span class="n">o</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">alive_objects</span> <span class="k">if</span> <span class="n">o</span><span class="o">.</span><span class="n">is_initializing</span><span class="p">],</span>
        <span class="n">unmatched_detections</span><span class="p">,</span>
        <span class="n">period</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Match unmatched initialized tracked objects with not yet initialized tracked objects</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_objects_in_place</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_function</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reid_distance_threshold</span><span class="p">,</span>
            <span class="n">unmatched_init_trackers</span> <span class="o">+</span> <span class="n">dead_objects</span><span class="p">,</span>
            <span class="n">matched_not_init_trackers</span><span class="p">,</span>
            <span class="n">period</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Create new tracked objects from remaining unmatched detections</span>
    <span class="k">for</span> <span class="n">detection</span> <span class="ow">in</span> <span class="n">unmatched_detections</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_obj_factory</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                <span class="n">initial_detection</span><span class="o">=</span><span class="n">detection</span><span class="p">,</span>
                <span class="n">hit_counter_max</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">hit_counter_max</span><span class="p">,</span>
                <span class="n">initialization_delay</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">initialization_delay</span><span class="p">,</span>
                <span class="n">pointwise_hit_counter_max</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pointwise_hit_counter_max</span><span class="p">,</span>
                <span class="n">detection_threshold</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">detection_threshold</span><span class="p">,</span>
                <span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span>
                <span class="n">filter_factory</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_factory</span><span class="p">,</span>
                <span class="n">past_detections_length</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">past_detections_length</span><span class="p">,</span>
                <span class="n">reid_hit_counter_max</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">reid_hit_counter_max</span><span class="p">,</span>
                <span class="n">coord_transformations</span><span class="o">=</span><span class="n">coord_transformations</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_active_objects</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="norfair.Tracker.get_active_objects" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_active_objects</span><span class="p">()</span></code>

<a href="#norfair.Tracker.get_active_objects" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Get the list of active objects</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="List">List</span>[<a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The list of active objects</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/tracker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_active_objects</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the list of active objects</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    List[&quot;TrackedObject&quot;]</span>
<span class="sd">        The list of active objects</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">o</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tracked_objects</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">o</span><span class="o">.</span><span class="n">is_initializing</span> <span class="ow">and</span> <span class="n">o</span><span class="o">.</span><span class="n">hit_counter_is_positive</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="norfair.Tracker.match_dets_and_objs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">match_dets_and_objs</span><span class="p">(</span><span class="n">distance_matrix</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="p">)</span></code>

<a href="#norfair.Tracker.match_dets_and_objs" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Matches detections with tracked_objects from a distance matrix</p>
<p>I used to match by minimizing the global distances, but found several
cases in which this was not optimal. So now I just match by starting
with the global minimum distance and matching the det-obj corresponding
to that distance, then taking the second minimum, and so on until we
reach the distance_threshold.</p>
<p>This avoids the the algorithm getting cute with us and matching things
that shouldn't be matching just for the sake of minimizing the global
distance, which is what used to happen</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/tracker.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">match_dets_and_objs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance_matrix</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">distance_threshold</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Matches detections with tracked_objects from a distance matrix</span>

<span class="sd">    I used to match by minimizing the global distances, but found several</span>
<span class="sd">    cases in which this was not optimal. So now I just match by starting</span>
<span class="sd">    with the global minimum distance and matching the det-obj corresponding</span>
<span class="sd">    to that distance, then taking the second minimum, and so on until we</span>
<span class="sd">    reach the distance_threshold.</span>

<span class="sd">    This avoids the the algorithm getting cute with us and matching things</span>
<span class="sd">    that shouldn&#39;t be matching just for the sake of minimizing the global</span>
<span class="sd">    distance, which is what used to happen</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># NOTE: This implementation is terribly inefficient, but it doesn&#39;t</span>
    <span class="c1">#       seem to affect the fps at all.</span>
    <span class="n">distance_matrix</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">det_idxs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">obj_idxs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">current_min</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

        <span class="k">while</span> <span class="n">current_min</span> <span class="o">&lt;</span> <span class="n">distance_threshold</span><span class="p">:</span>
            <span class="n">flattened_arg_min</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">argmin</span><span class="p">()</span>
            <span class="n">det_idx</span> <span class="o">=</span> <span class="n">flattened_arg_min</span> <span class="o">//</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">obj_idx</span> <span class="o">=</span> <span class="n">flattened_arg_min</span> <span class="o">%</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">det_idxs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">det_idx</span><span class="p">)</span>
            <span class="n">obj_idxs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj_idx</span><span class="p">)</span>
            <span class="n">distance_matrix</span><span class="p">[</span><span class="n">det_idx</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">distance_threshold</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">distance_matrix</span><span class="p">[:,</span> <span class="n">obj_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">distance_threshold</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">current_min</span> <span class="o">=</span> <span class="n">distance_matrix</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">det_idxs</span><span class="p">,</span> <span class="n">obj_idxs</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[],</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="norfair.Video" class="doc doc-heading">
            <code>Video</code>


<a href="#norfair.Video" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">



        <p>Class that provides a simple and pythonic way to interact with video.</p>
<p>It returns regular OpenCV frames which enables the usage of the huge number of tools OpenCV provides to modify images.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>camera</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An integer representing the device id of the camera to be used as the video source.</p>
<p>Webcams tend to have an id of <code>0</code>. Arguments <code>camera</code> and <code>input_path</code> can't be used at the same time, one must be chosen.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>input_path</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string consisting of the path to the video file to be used as the video source.</p>
<p>Arguments <code>camera</code> and <code>input_path</code> can't be used at the same time, one must be chosen.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the output video to be generated.
Can be a folder were the file will be created or a full path with a file name.</p>
              </div>
            </td>
            <td>
                  <code>&#39;.&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_fps</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="float">float</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The frames per second at which to encode the output video file.</p>
<p>If not provided it is set to be equal to the input video source's fps.
This argument is useful when using live video cameras as a video source,
where the user may know the input fps,
but where the frames are being fed to the output video at a rate that is lower than the video source's fps,
due to the latency added by the detector.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>label</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label to add to the progress bar that appears when processing the current video.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_fourcc</code>
            </td>
            <td>
                  <code><span title="Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>OpenCV encoding for output video file.
By default we use <code>mp4v</code> for <code>.mp4</code> and <code>XVID</code> for <code>.avi</code>. This is a combination that works on most systems but
it results in larger files. To get smaller files use <code>avc1</code> or <code>H264</code> if available.
Notice that some fourcc are not compatible with some extensions.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_extension</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>File extension used for the output video. Ignored if <code>output_path</code> is not a folder.</p>
              </div>
            </td>
            <td>
                  <code>&#39;mp4&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">video</span> <span class="o">=</span> <span class="n">Video</span><span class="p">(</span><span class="n">input_path</span><span class="o">=</span><span class="s2">&quot;video.mp4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">video</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="c1"># &lt;&lt; Your modifications to the frame would go here &gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">video</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>norfair/video.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Video</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class that provides a simple and pythonic way to interact with video.</span>

<span class="sd">    It returns regular OpenCV frames which enables the usage of the huge number of tools OpenCV provides to modify images.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    camera : Optional[int], optional</span>
<span class="sd">        An integer representing the device id of the camera to be used as the video source.</span>

<span class="sd">        Webcams tend to have an id of `0`. Arguments `camera` and `input_path` can&#39;t be used at the same time, one must be chosen.</span>
<span class="sd">    input_path : Optional[str], optional</span>
<span class="sd">        A string consisting of the path to the video file to be used as the video source.</span>

<span class="sd">        Arguments `camera` and `input_path` can&#39;t be used at the same time, one must be chosen.</span>
<span class="sd">    output_path : str, optional</span>
<span class="sd">        The path to the output video to be generated.</span>
<span class="sd">        Can be a folder were the file will be created or a full path with a file name.</span>
<span class="sd">    output_fps : Optional[float], optional</span>
<span class="sd">        The frames per second at which to encode the output video file.</span>

<span class="sd">        If not provided it is set to be equal to the input video source&#39;s fps.</span>
<span class="sd">        This argument is useful when using live video cameras as a video source,</span>
<span class="sd">        where the user may know the input fps,</span>
<span class="sd">        but where the frames are being fed to the output video at a rate that is lower than the video source&#39;s fps,</span>
<span class="sd">        due to the latency added by the detector.</span>
<span class="sd">    label : str, optional</span>
<span class="sd">        Label to add to the progress bar that appears when processing the current video.</span>
<span class="sd">    output_fourcc : Optional[str], optional</span>
<span class="sd">        OpenCV encoding for output video file.</span>
<span class="sd">        By default we use `mp4v` for `.mp4` and `XVID` for `.avi`. This is a combination that works on most systems but</span>
<span class="sd">        it results in larger files. To get smaller files use `avc1` or `H264` if available.</span>
<span class="sd">        Notice that some fourcc are not compatible with some extensions.</span>
<span class="sd">    output_extension : str, optional</span>
<span class="sd">        File extension used for the output video. Ignored if `output_path` is not a folder.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; video = Video(input_path=&quot;video.mp4&quot;)</span>
<span class="sd">    &gt;&gt;&gt; for frame in video:</span>
<span class="sd">    &gt;&gt;&gt;     # &lt;&lt; Your modifications to the frame would go here &gt;&gt;</span>
<span class="sd">    &gt;&gt;&gt;     video.write(frame)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">camera</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">input_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
        <span class="n">output_fps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">output_fourcc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">output_extension</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mp4&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="o">=</span> <span class="n">camera</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="o">=</span> <span class="n">input_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span> <span class="o">=</span> <span class="n">output_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_fourcc</span> <span class="o">=</span> <span class="n">output_fourcc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_extension</span> <span class="o">=</span> <span class="n">output_extension</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># cv2.VideoWriter or None</span>

        <span class="c1"># Input validation</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">input_path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">camera</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span>
            <span class="n">input_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">camera</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;You must set either &#39;camera&#39; or &#39;input_path&#39; arguments when setting &#39;Video&#39; class&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">camera</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">camera</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Argument &#39;camera&#39; refers to the device-id of your camera, and must be an int. Setting it to 0 usually works if you don&#39;t know the id.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Read Input Video</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;~&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;[bold red]Error:[/bold red] File &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="si">}</span><span class="s2">&#39; does not exist.&quot;</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">)</span>
            <span class="n">total_frames</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_COUNT</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">total_frames</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_fail</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;[bold red]Error:[/bold red] &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="si">}</span><span class="s2">&#39; does not seem to be a video file supported by OpenCV. If the video file is not the problem, please check that your OpenCV installation is working correctly.&quot;</span>
                <span class="p">)</span>
            <span class="n">description</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">camera</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>  <span class="c1"># Validated in input_validation above</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoCapture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="p">)</span>
            <span class="n">total_frames</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">description</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Camera(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">camera</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_fps</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">output_fps</span>
            <span class="k">if</span> <span class="n">output_fps</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FPS</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_HEIGHT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cv2</span><span class="o">.</span><span class="n">CAP_PROP_FRAME_WIDTH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame_counter</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Setup progressbar</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">:</span>
            <span class="n">description</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; | </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">progress_bar_fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="n">ProgressColumn</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;[progress.description]</span><span class="si">{task.description}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">BarColumn</span><span class="p">(),</span>
            <span class="s2">&quot;[yellow]</span><span class="si">{task.fields[process_fps]:.2f}</span><span class="s2">fps[/yellow]&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">progress_bar_fields</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span>
                <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;[progress.percentage]</span><span class="si">{task.percentage:&gt;3.0f}</span><span class="s2">%&quot;</span>
            <span class="p">)</span>
            <span class="n">progress_bar_fields</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span>
                <span class="mi">3</span><span class="p">,</span>
                <span class="n">TimeRemainingColumn</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">Progress</span><span class="p">(</span>
            <span class="o">*</span><span class="n">progress_bar_fields</span><span class="p">,</span>
            <span class="n">auto_refresh</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">redirect_stdout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">redirect_stderr</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">add_task</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">abbreviate_description</span><span class="p">(</span><span class="n">description</span><span class="p">),</span>
            <span class="n">total</span><span class="o">=</span><span class="n">total_frames</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">process_fps</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># This is a generator, note the yield keyword below.</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="k">as</span> <span class="n">progress_bar</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

            <span class="c1"># Iterate over video</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">frame_counter</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">ret</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">ret</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">or</span> <span class="n">frame</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">process_fps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_counter</span> <span class="o">/</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
                <span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">task</span><span class="p">,</span> <span class="n">advance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">refresh</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">process_fps</span><span class="o">=</span><span class="n">process_fps</span>
                <span class="p">)</span>
                <span class="k">yield</span> <span class="n">frame</span>

        <span class="c1"># Cleanup</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;[white]Output video file saved to: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">get_output_file_path</span><span class="p">()</span><span class="si">}</span><span class="s2">[/white]&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_capture</span><span class="o">.</span><span class="n">release</span><span class="p">()</span>
        <span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_fail</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Write one frame to the output video.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frame : np.ndarray</span>
<span class="sd">            The OpenCV frame to write to file.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># The user may need to access the output file path on their code</span>
            <span class="n">output_file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_file_path</span><span class="p">()</span>
            <span class="n">fourcc</span> <span class="o">=</span> <span class="n">_get_fourcc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_codec_fourcc</span><span class="p">(</span><span class="n">output_file_path</span><span class="p">))</span>
            <span class="c1"># Set on first frame write in case the user resizes the frame in some way</span>
            <span class="n">output_size</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="p">)</span>  <span class="c1"># OpenCV format is (width, height)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoWriter</span><span class="p">(</span>
                <span class="n">output_file_path</span><span class="p">,</span>
                <span class="n">fourcc</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">output_fps</span><span class="p">,</span>
                <span class="n">output_size</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">downsample_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Display a frame through a GUI. Usually used inside a video inference loop to show the output video.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        frame : np.ndarray</span>
<span class="sd">            The OpenCV frame to be displayed.</span>
<span class="sd">        downsample_ratio : float, optional</span>
<span class="sd">            How much to downsample the frame being show.</span>

<span class="sd">            Useful when streaming the GUI video display through a slow internet connection using something like X11 forwarding on an ssh connection.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Resize to lower resolution for faster streaming over slow connections</span>
        <span class="k">if</span> <span class="n">downsample_ratio</span> <span class="o">!=</span> <span class="mf">1.0</span><span class="p">:</span>
            <span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span>
                <span class="n">frame</span><span class="p">,</span>
                <span class="p">(</span>
                    <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">//</span> <span class="n">downsample_ratio</span><span class="p">,</span>
                    <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">//</span> <span class="n">downsample_ratio</span><span class="p">,</span>
                <span class="p">),</span>
            <span class="p">)</span>
        <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Output&quot;</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_output_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the output path being used in case you are writing your frames to a video file.</span>

<span class="sd">        Useful if you didn&#39;t set `output_path`, and want to know what the autogenerated output file path by Norfair will be.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            The path to the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">file_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;camera_</span><span class="si">{self.camera}</span><span class="s2">&quot;</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">_out.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_extension</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_codec_fourcc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_fourcc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_fourcc</span>

        <span class="c1"># Default codecs for each extension</span>
        <span class="n">extension</span> <span class="o">=</span> <span class="n">filename</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">extension</span> <span class="o">==</span> <span class="s2">&quot;avi&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;XVID&quot;</span>
        <span class="k">elif</span> <span class="n">extension</span> <span class="o">==</span> <span class="s2">&quot;mp4&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;mp4v&quot;</span>  <span class="c1"># When available, &quot;avc1&quot; is better</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_fail</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;[bold red]Could not determine video codec for the provided output filename[/bold red]: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;[yellow]</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">[/yellow]</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Please use &#39;.mp4&#39;, &#39;.avi&#39;, or provide a custom OpenCV fourcc codec name.&quot;</span>
            <span class="p">)</span>
            <span class="c1"># _fail raises RuntimeError, so this line is unreachable</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Unreachable&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">abbreviate_description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Conditionally abbreviate description so that progress bar fits in small terminals&quot;&quot;&quot;</span>
        <span class="n">terminal_columns</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">get_terminal_size</span><span class="p">()</span>
        <span class="n">space_for_description</span> <span class="o">=</span> <span class="p">(</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">terminal_columns</span><span class="p">)</span> <span class="o">-</span> <span class="mi">25</span>
        <span class="p">)</span>  <span class="c1"># Leave 25 space for progressbar</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">description</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">space_for_description</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">description</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">description</span><span class="p">[:</span><span class="w"> </span><span class="n">space_for_description</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2"> ... </span><span class="si">{</span><span class="n">description</span><span class="p">[</span><span class="o">-</span><span class="n">space_for_description</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">:]</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="norfair.Video.write" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span></code>

<a href="#norfair.Video.write" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Write one frame to the output video.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>frame</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The OpenCV frame to write to file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/video.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Write one frame to the output video.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    frame : np.ndarray</span>
<span class="sd">        The OpenCV frame to write to file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int</span>
<span class="sd">        _description_</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># The user may need to access the output file path on their code</span>
        <span class="n">output_file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_output_file_path</span><span class="p">()</span>
        <span class="n">fourcc</span> <span class="o">=</span> <span class="n">_get_fourcc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_codec_fourcc</span><span class="p">(</span><span class="n">output_file_path</span><span class="p">))</span>
        <span class="c1"># Set on first frame write in case the user resizes the frame in some way</span>
        <span class="n">output_size</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="p">)</span>  <span class="c1"># OpenCV format is (width, height)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoWriter</span><span class="p">(</span>
            <span class="n">output_file_path</span><span class="p">,</span>
            <span class="n">fourcc</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_fps</span><span class="p">,</span>
            <span class="n">output_size</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">output_video</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="norfair.Video.show" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">downsample_ratio</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span></code>

<a href="#norfair.Video.show" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Display a frame through a GUI. Usually used inside a video inference loop to show the output video.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>frame</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The OpenCV frame to be displayed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>downsample_ratio</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How much to downsample the frame being show.</p>
<p>Useful when streaming the GUI video display through a slow internet connection using something like X11 forwarding on an ssh connection.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/video.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">downsample_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display a frame through a GUI. Usually used inside a video inference loop to show the output video.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    frame : np.ndarray</span>
<span class="sd">        The OpenCV frame to be displayed.</span>
<span class="sd">    downsample_ratio : float, optional</span>
<span class="sd">        How much to downsample the frame being show.</span>

<span class="sd">        Useful when streaming the GUI video display through a slow internet connection using something like X11 forwarding on an ssh connection.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int</span>
<span class="sd">        _description_</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Resize to lower resolution for faster streaming over slow connections</span>
    <span class="k">if</span> <span class="n">downsample_ratio</span> <span class="o">!=</span> <span class="mf">1.0</span><span class="p">:</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span>
            <span class="n">frame</span><span class="p">,</span>
            <span class="p">(</span>
                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">//</span> <span class="n">downsample_ratio</span><span class="p">,</span>
                <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">//</span> <span class="n">downsample_ratio</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">&quot;Output&quot;</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="norfair.Video.get_output_file_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_output_file_path</span><span class="p">()</span></code>

<a href="#norfair.Video.get_output_file_path" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Calculate the output path being used in case you are writing your frames to a video file.</p>
<p>Useful if you didn't set <code>output_path</code>, and want to know what the autogenerated output file path by Norfair will be.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/video.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_output_file_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate the output path being used in case you are writing your frames to a video file.</span>

<span class="sd">    Useful if you didn&#39;t set `output_path`, and want to know what the autogenerated output file path by Norfair will be.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    str</span>
<span class="sd">        The path to the file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="s2">&quot;camera_</span><span class="si">{self.camera}</span><span class="s2">&quot;</span>
    <span class="n">file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">_out.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_extension</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="norfair.Video.abbreviate_description" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">abbreviate_description</span><span class="p">(</span><span class="n">description</span><span class="p">)</span></code>

<a href="#norfair.Video.abbreviate_description" class="headerlink" title="Permanent link">#</a></h3>


    <div class="doc doc-contents ">

        <p>Conditionally abbreviate description so that progress bar fits in small terminals</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/video.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">abbreviate_description</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Conditionally abbreviate description so that progress bar fits in small terminals&quot;&quot;&quot;</span>
    <span class="n">terminal_columns</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">get_terminal_size</span><span class="p">()</span>
    <span class="n">space_for_description</span> <span class="o">=</span> <span class="p">(</span>
        <span class="nb">int</span><span class="p">(</span><span class="n">terminal_columns</span><span class="p">)</span> <span class="o">-</span> <span class="mi">25</span>
    <span class="p">)</span>  <span class="c1"># Leave 25 space for progressbar</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">description</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">space_for_description</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">description</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">description</span><span class="p">[:</span><span class="w"> </span><span class="n">space_for_description</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2"> ... </span><span class="si">{</span><span class="n">description</span><span class="p">[</span><span class="o">-</span><span class="n">space_for_description</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">:]</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="norfair.create_keypoints_voting_distance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_keypoints_voting_distance</span><span class="p">(</span><span class="n">keypoint_distance_threshold</span><span class="p">,</span> <span class="n">detection_threshold</span><span class="p">)</span></code>

<a href="#norfair.create_keypoints_voting_distance" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Construct a keypoint voting distance function configured with the thresholds.</p>
<p>Count how many points in a detection match the with a tracked_object.
A match is considered when distance between the points is &lt; <code>keypoint_distance_threshold</code>
and the score of the last_detection of the tracked_object is &gt; <code>detection_threshold</code>.
Notice the if multiple points are tracked, the ith point in detection can only match the ith
point in the tracked object.</p>
<p>Distance is 1 if no point matches and approximates 0 as more points are matched.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>keypoint_distance_threshold</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Points closer than this threshold are considered a match.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>detection_threshold</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Detections and objects with score lower than this threshold are ignored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="collections.abc.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance funtion that must be passed to the Tracker.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_keypoints_voting_distance</span><span class="p">(</span>
    <span class="n">keypoint_distance_threshold</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">detection_threshold</span><span class="p">:</span> <span class="nb">float</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Construct a keypoint voting distance function configured with the thresholds.</span>

<span class="sd">    Count how many points in a detection match the with a tracked_object.</span>
<span class="sd">    A match is considered when distance between the points is &lt; `keypoint_distance_threshold`</span>
<span class="sd">    and the score of the last_detection of the tracked_object is &gt; `detection_threshold`.</span>
<span class="sd">    Notice the if multiple points are tracked, the ith point in detection can only match the ith</span>
<span class="sd">    point in the tracked object.</span>

<span class="sd">    Distance is 1 if no point matches and approximates 0 as more points are matched.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    keypoint_distance_threshold: float</span>
<span class="sd">        Points closer than this threshold are considered a match.</span>
<span class="sd">    detection_threshold: float</span>
<span class="sd">        Detections and objects with score lower than this threshold are ignored.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Callable</span>
<span class="sd">        The distance funtion that must be passed to the Tracker.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">keypoints_voting_distance</span><span class="p">(</span>
        <span class="n">detection</span><span class="p">:</span> <span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="n">tracked_object</span><span class="p">:</span> <span class="s2">&quot;TrackedObject&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">detection</span><span class="o">.</span><span class="n">scores</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">tracked_object</span><span class="o">.</span><span class="n">last_detection</span><span class="o">.</span><span class="n">scores</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">1.0</span>
        <span class="n">distances</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">detection</span><span class="o">.</span><span class="n">points</span> <span class="o">-</span> <span class="n">tracked_object</span><span class="o">.</span><span class="n">estimate</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">match_num</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span>
            <span class="p">(</span><span class="n">distances</span> <span class="o">&lt;</span> <span class="n">keypoint_distance_threshold</span><span class="p">)</span>
            <span class="o">*</span> <span class="p">(</span><span class="n">detection</span><span class="o">.</span><span class="n">scores</span> <span class="o">&gt;</span> <span class="n">detection_threshold</span><span class="p">)</span>
            <span class="o">*</span> <span class="p">(</span><span class="n">tracked_object</span><span class="o">.</span><span class="n">last_detection</span><span class="o">.</span><span class="n">scores</span> <span class="o">&gt;</span> <span class="n">detection_threshold</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">match_num</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">keypoints_voting_distance</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.create_normalized_mean_euclidean_distance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_normalized_mean_euclidean_distance</span><span class="p">(</span><span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span></code>

<a href="#norfair.create_normalized_mean_euclidean_distance" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Construct a normalized mean euclidean distance function configured with the max height and width.</p>
<p>The result distance is bound to [0, 1] where 1 indicates oposite corners of the image.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>height</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Height of the image.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Width of the image.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="collections.abc.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance funtion that must be passed to the Tracker.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_normalized_mean_euclidean_distance</span><span class="p">(</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Construct a normalized mean euclidean distance function configured with the max height and width.</span>

<span class="sd">    The result distance is bound to [0, 1] where 1 indicates oposite corners of the image.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    height: int</span>
<span class="sd">        Height of the image.</span>
<span class="sd">    width: int</span>
<span class="sd">        Width of the image.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Callable</span>
<span class="sd">        The distance funtion that must be passed to the Tracker.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">normalized__mean_euclidean_distance</span><span class="p">(</span>
        <span class="n">detection</span><span class="p">:</span> <span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="n">tracked_object</span><span class="p">:</span> <span class="s2">&quot;TrackedObject&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Normalized mean euclidean distance&quot;&quot;&quot;</span>
        <span class="c1"># calculate distances and normalized it by width and height</span>
        <span class="n">difference</span> <span class="o">=</span> <span class="p">(</span><span class="n">detection</span><span class="o">.</span><span class="n">points</span> <span class="o">-</span> <span class="n">tracked_object</span><span class="o">.</span><span class="n">estimate</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
        <span class="n">difference</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/=</span> <span class="n">width</span>
        <span class="n">difference</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">/=</span> <span class="n">height</span>

        <span class="c1"># calculate eucledean distance and average</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">difference</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">normalized__mean_euclidean_distance</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.frobenius" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">frobenius</span><span class="p">(</span><span class="n">detection</span><span class="p">,</span> <span class="n">tracked_object</span><span class="p">)</span></code>

<a href="#norfair.frobenius" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Frobernius norm on the difference of the points in detection and the estimates in tracked_object.</p>
<p>The Frobenius distance and norm are given by:</p>
<div class="arithmatex">\[
d_f(a, b) = ||a - b||_F
\]</div>
<div class="arithmatex">\[
||A||_F = [\sum_{i,j} abs(a_{i,j})^2]^{1/2}
\]</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>detection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A detection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tracked_object</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tracked object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p><a href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html"><code>np.linalg.norm</code></a></p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">frobenius</span><span class="p">(</span><span class="n">detection</span><span class="p">:</span> <span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="n">tracked_object</span><span class="p">:</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Frobernius norm on the difference of the points in detection and the estimates in tracked_object.</span>

<span class="sd">    The Frobenius distance and norm are given by:</span>

<span class="sd">    $$</span>
<span class="sd">    d_f(a, b) = ||a - b||_F</span>
<span class="sd">    $$</span>

<span class="sd">    $$</span>
<span class="sd">    ||A||_F = [\\sum_{i,j} abs(a_{i,j})^2]^{1/2}</span>
<span class="sd">    $$</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    detection : Detection</span>
<span class="sd">        A detection.</span>
<span class="sd">    tracked_object : TrackedObject</span>
<span class="sd">        A tracked object.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        The distance.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    [`np.linalg.norm`](https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">detection</span><span class="o">.</span><span class="n">points</span> <span class="o">-</span> <span class="n">tracked_object</span><span class="o">.</span><span class="n">estimate</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.get_distance_by_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_distance_by_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></code>

<a href="#norfair.get_distance_by_name" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Select a distance by name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A string defining the metric to get.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="Distance (norfair.distances.Distance)" href="distances/#norfair.distances.Distance">Distance</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_distance_by_name</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Distance</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Select a distance by name.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        A string defining the metric to get.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Distance</span>
<span class="sd">        The distance object.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">distance_function</span><span class="p">:</span> <span class="n">Distance</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">_SCALAR_DISTANCE_FUNCTIONS</span><span class="p">:</span>
        <span class="n">warning</span><span class="p">(</span>
            <span class="s2">&quot;You are using a scalar distance function. If you want to speed up the&quot;</span>
            <span class="s2">&quot; tracking process please consider using a vectorized distance function&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; such as </span><span class="si">{</span><span class="n">AVAILABLE_VECTORIZED_DISTANCES</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
        <span class="n">distance_function</span> <span class="o">=</span> <span class="n">ScalarDistance</span><span class="p">(</span><span class="n">_SCALAR_DISTANCE_FUNCTIONS</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">_SCIPY_DISTANCE_FUNCTIONS</span><span class="p">:</span>
        <span class="n">distance_function</span> <span class="o">=</span> <span class="n">ScipyDistance</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">_VECTORIZED_DISTANCE_FUNCTIONS</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;iou_opt&quot;</span><span class="p">:</span>
            <span class="n">warning</span><span class="p">(</span><span class="s2">&quot;iou_opt is deprecated, use iou instead&quot;</span><span class="p">)</span>
        <span class="n">distance_function</span> <span class="o">=</span> <span class="n">VectorizedDistance</span><span class="p">(</span><span class="n">_VECTORIZED_DISTANCE_FUNCTIONS</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid distance &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, expecting one of&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">_SCALAR_DISTANCE_FUNCTIONS</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">AVAILABLE_VECTORIZED_DISTANCES</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">distance_function</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.iou" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">iou</span><span class="p">(</span><span class="n">candidates</span><span class="p">,</span> <span class="n">objects</span><span class="p">)</span></code>

<a href="#norfair.iou" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Calculate IoU between two sets of bounding boxes. Both sets of boxes are expected
to be in <code>[x_min, y_min, x_max, y_max]</code> format.</p>
<p>Normal IoU is 1 when the boxes are the same and 0 when they don't overlap,
to transform that into a distance that makes sense we return <code>1 - iou</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>candidates</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(N, 4) numpy.ndarray containing candidates bounding boxes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>objects</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(K, 4) numpy.ndarray containing objects bounding boxes.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(N, K) numpy.ndarray of <code>1 - iou</code> between candidates and objects.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">iou</span><span class="p">(</span><span class="n">candidates</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">objects</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calculate IoU between two sets of bounding boxes. Both sets of boxes are expected</span>
<span class="sd">    to be in `[x_min, y_min, x_max, y_max]` format.</span>

<span class="sd">    Normal IoU is 1 when the boxes are the same and 0 when they don&#39;t overlap,</span>
<span class="sd">    to transform that into a distance that makes sense we return `1 - iou`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    candidates : numpy.ndarray</span>
<span class="sd">        (N, 4) numpy.ndarray containing candidates bounding boxes.</span>
<span class="sd">    objects : numpy.ndarray</span>
<span class="sd">        (K, 4) numpy.ndarray containing objects bounding boxes.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    numpy.ndarray</span>
<span class="sd">        (N, K) numpy.ndarray of `1 - iou` between candidates and objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_validate_bboxes</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span>

    <span class="n">area_candidates</span> <span class="o">=</span> <span class="n">_boxes_area</span><span class="p">(</span><span class="n">candidates</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="n">area_objects</span> <span class="o">=</span> <span class="n">_boxes_area</span><span class="p">(</span><span class="n">objects</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>

    <span class="n">top_left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">candidates</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="n">objects</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">bottom_right</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">candidates</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">:],</span> <span class="n">objects</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">:])</span>

    <span class="n">area_intersection</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">bottom_right</span> <span class="o">-</span> <span class="n">top_left</span><span class="p">,</span> <span class="n">a_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">a_max</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span> <span class="mi">2</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">area_intersection</span> <span class="o">/</span> <span class="p">(</span>
        <span class="n">area_candidates</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">+</span> <span class="n">area_objects</span> <span class="o">-</span> <span class="n">area_intersection</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.mean_euclidean" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mean_euclidean</span><span class="p">(</span><span class="n">detection</span><span class="p">,</span> <span class="n">tracked_object</span><span class="p">)</span></code>

<a href="#norfair.mean_euclidean" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Average euclidean distance between the points in detection and estimates in tracked_object.</p>
<div class="arithmatex">\[
d(a, b) = \frac{\sum_{i=0}^N ||a_i - b_i||_2}{N}
\]</div>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>detection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A detection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tracked_object</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A tracked object</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p><a href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html"><code>np.linalg.norm</code></a></p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">mean_euclidean</span><span class="p">(</span><span class="n">detection</span><span class="p">:</span> <span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="n">tracked_object</span><span class="p">:</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Average euclidean distance between the points in detection and estimates in tracked_object.</span>

<span class="sd">    $$</span>
<span class="sd">    d(a, b) = \\frac{\\sum_{i=0}^N ||a_i - b_i||_2}{N}</span>
<span class="sd">    $$</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    detection : Detection</span>
<span class="sd">        A detection.</span>
<span class="sd">    tracked_object : TrackedObject</span>
<span class="sd">        A tracked object</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        The distance.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    [`np.linalg.norm`](https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">detection</span><span class="o">.</span><span class="n">points</span> <span class="o">-</span> <span class="n">tracked_object</span><span class="o">.</span><span class="n">estimate</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.mean_manhattan" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mean_manhattan</span><span class="p">(</span><span class="n">detection</span><span class="p">,</span> <span class="n">tracked_object</span><span class="p">)</span></code>

<a href="#norfair.mean_manhattan" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Average manhattan distance between the points in detection and the estimates in tracked_object</p>
<p>Given by:</p>
<div class="arithmatex">\[
d(a, b) = \frac{\sum_{i=0}^N ||a_i - b_i||_1}{N}
\]</div>
<p>Where <span class="arithmatex">\(||a||_1\)</span> is the manhattan norm.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>detection</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Detection (norfair.tracker.Detection)" href="tracker/#norfair.tracker.Detection">Detection</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A detection.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>tracked_object</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="TrackedObject (norfair.tracker.TrackedObject)" href="tracker/#norfair.tracker.TrackedObject">TrackedObject</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>a tracked object.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The distance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="see-also" open>
  <summary>See Also</summary>
  <p><a href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html"><code>np.linalg.norm</code></a></p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/distances.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">mean_manhattan</span><span class="p">(</span><span class="n">detection</span><span class="p">:</span> <span class="s2">&quot;Detection&quot;</span><span class="p">,</span> <span class="n">tracked_object</span><span class="p">:</span> <span class="s2">&quot;TrackedObject&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Average manhattan distance between the points in detection and the estimates in tracked_object</span>

<span class="sd">    Given by:</span>

<span class="sd">    $$</span>
<span class="sd">    d(a, b) = \\frac{\\sum_{i=0}^N ||a_i - b_i||_1}{N}</span>
<span class="sd">    $$</span>

<span class="sd">    Where $||a||_1$ is the manhattan norm.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    detection : Detection</span>
<span class="sd">        A detection.</span>
<span class="sd">    tracked_object : TrackedObject</span>
<span class="sd">        a tracked object.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        The distance.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    [`np.linalg.norm`](https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span>
        <span class="n">detection</span><span class="o">.</span><span class="n">points</span> <span class="o">-</span> <span class="n">tracked_object</span><span class="o">.</span><span class="n">estimate</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.draw_absolute_grid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">draw_absolute_grid</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">coord_transformations</span><span class="p">,</span> <span class="n">grid_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">Color</span><span class="o">.</span><span class="n">black</span><span class="p">,</span> <span class="n">polar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#norfair.draw_absolute_grid" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Draw a grid of points in absolute coordinates.</p>
<p>Useful for debugging camera motion.</p>
<p>The points are drawn as if the camera were in the center of a sphere and points are drawn in the intersection
of latitude and longitude lines over the surface of the sphere.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>frame</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The OpenCV frame to draw on.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coord_transformations</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="CoordinatesTransformation (norfair.camera_motion.CoordinatesTransformation)" href="camera_motion/#norfair.camera_motion.CoordinatesTransformation">CoordinatesTransformation</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The coordinate transformation as returned by the <a class="autorefs autorefs-internal" href="camera_motion/#norfair.camera_motion.MotionEstimator"><code>MotionEstimator</code></a></p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>grid_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How many points to draw.</p>
              </div>
            </td>
            <td>
                  <code>20</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>radius</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of each point.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>thickness</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Thickness of each point</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>color</code>
            </td>
            <td>
                  <code><span title="norfair.drawing.color.ColorType">ColorType</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Color of the points.</p>
              </div>
            </td>
            <td>
                  <code><span title="norfair.drawing.color.Color.black">black</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>polar</code>
            </td>
            <td>
                  <code><span title="Bool">Bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the points on the first frame are drawn as if the camera were pointing to a pole (viewed from the center of the earth).
By default, False is used which means the points are drawn as if the camera were pointing to the Equator.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/drawing/absolute_grid.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">draw_absolute_grid</span><span class="p">(</span>
    <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">coord_transformations</span><span class="p">:</span> <span class="n">CoordinatesTransformation</span><span class="p">,</span>
    <span class="n">grid_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">radius</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">ColorType</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">black</span><span class="p">,</span>
    <span class="n">polar</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Draw a grid of points in absolute coordinates.</span>

<span class="sd">    Useful for debugging camera motion.</span>

<span class="sd">    The points are drawn as if the camera were in the center of a sphere and points are drawn in the intersection</span>
<span class="sd">    of latitude and longitude lines over the surface of the sphere.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    frame : np.ndarray</span>
<span class="sd">        The OpenCV frame to draw on.</span>
<span class="sd">    coord_transformations : CoordinatesTransformation</span>
<span class="sd">        The coordinate transformation as returned by the [`MotionEstimator`][norfair.camera_motion.MotionEstimator]</span>
<span class="sd">    grid_size : int, optional</span>
<span class="sd">        How many points to draw.</span>
<span class="sd">    radius : int, optional</span>
<span class="sd">        Size of each point.</span>
<span class="sd">    thickness : int, optional</span>
<span class="sd">        Thickness of each point</span>
<span class="sd">    color : ColorType, optional</span>
<span class="sd">        Color of the points.</span>
<span class="sd">    polar : Bool, optional</span>
<span class="sd">        If True, the points on the first frame are drawn as if the camera were pointing to a pole (viewed from the center of the earth).</span>
<span class="sd">        By default, False is used which means the points are drawn as if the camera were pointing to the Equator.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span>

    <span class="c1"># get absolute points grid</span>
    <span class="n">points</span> <span class="o">=</span> <span class="n">_get_grid</span><span class="p">(</span><span class="n">grid_size</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">polar</span><span class="o">=</span><span class="n">polar</span><span class="p">)</span>

    <span class="c1"># transform the points to relative coordinates</span>
    <span class="k">if</span> <span class="n">coord_transformations</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">points_transformed</span> <span class="o">=</span> <span class="n">points</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">points_transformed</span> <span class="o">=</span> <span class="n">coord_transformations</span><span class="o">.</span><span class="n">abs_to_rel</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>

    <span class="c1"># filter points that are not visible</span>
    <span class="n">visible_points</span> <span class="o">=</span> <span class="n">points_transformed</span><span class="p">[</span>
        <span class="p">(</span><span class="n">points_transformed</span> <span class="o">&lt;=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">]))</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="o">&amp;</span> <span class="p">(</span><span class="n">points_transformed</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">visible_points</span><span class="p">:</span>
        <span class="n">Drawer</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span>
            <span class="n">frame</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">),</span> <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=</span><span class="n">thickness</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.draw_tracked_boxes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">draw_tracked_boxes</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">objects</span><span class="p">,</span> <span class="n">border_colors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">border_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">id_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">id_thickness</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">draw_box</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color_by_label</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">draw_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">label_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label_width</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#norfair.draw_tracked_boxes" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p><strong>Deprecated</strong>. Use <a class="autorefs autorefs-internal" title="draw_boxes(frame, drawables=None, color='by_id', thickness=None, random_color=None, color_by_label=None, draw_labels=False, text_size=None, draw_ids=True, text_color=None, text_thickness=None, draw_box=True, detections=None, line_color=None, line_width=None, label_size=None, draw_scores=False)" href="drawing/#norfair.drawing.draw_boxes.draw_boxes"><code>draw_box</code></a></p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/drawing/draw_boxes.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">draw_tracked_boxes</span><span class="p">(</span>
    <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span>
    <span class="n">border_colors</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">border_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">id_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">id_thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">draw_box</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">color_by_label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">draw_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">label_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">label_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="s2">&quot;**Deprecated**. Use [`draw_box`][norfair.drawing.draw_boxes.draw_boxes]&quot;</span>
    <span class="n">warn_once</span><span class="p">(</span><span class="s2">&quot;draw_tracked_boxes is deprecated, use draw_box instead&quot;</span><span class="p">)</span>
    <span class="c1"># Determine color - default to &quot;by_id&quot; if border_colors is None</span>
    <span class="n">selected_color</span><span class="p">:</span> <span class="n">ColorLike</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;by_label&quot;</span>
        <span class="k">if</span> <span class="n">color_by_label</span>
        <span class="k">else</span> <span class="p">(</span><span class="n">border_colors</span> <span class="k">if</span> <span class="n">border_colors</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;by_id&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">draw_boxes</span><span class="p">(</span>
        <span class="n">frame</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
        <span class="n">drawables</span><span class="o">=</span><span class="n">objects</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">selected_color</span><span class="p">,</span>
        <span class="n">thickness</span><span class="o">=</span><span class="n">border_width</span><span class="p">,</span>
        <span class="n">text_size</span><span class="o">=</span><span class="n">label_size</span> <span class="ow">or</span> <span class="n">id_size</span><span class="p">,</span>
        <span class="n">text_thickness</span><span class="o">=</span><span class="n">id_thickness</span> <span class="ow">or</span> <span class="n">label_width</span><span class="p">,</span>
        <span class="n">draw_labels</span><span class="o">=</span><span class="n">draw_labels</span><span class="p">,</span>
        <span class="n">draw_ids</span><span class="o">=</span><span class="n">id_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">draw_box</span><span class="o">=</span><span class="n">draw_box</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.draw_tracked_objects" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">draw_tracked_objects</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">objects</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">id_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">id_thickness</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">draw_points</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color_by_label</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">draw_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">label_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#norfair.draw_tracked_objects" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p><strong>Deprecated</strong> use <a class="autorefs autorefs-internal" title="draw_points(frame, drawables=None, radius=None, thickness=None, color='by_id', color_by_label=None, draw_labels=True, text_size=None, draw_ids=True, draw_points=True, text_thickness=None, text_color=None, hide_dead_points=True, detections=None, label_size=None, draw_scores=False)" href="drawing/#norfair.drawing.draw_points.draw_points"><code>draw_points</code></a></p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/drawing/draw_points.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">draw_tracked_objects</span><span class="p">(</span>
    <span class="n">frame</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="s2">&quot;TrackedObject&quot;</span><span class="p">],</span>
    <span class="n">radius</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">ColorLike</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">id_size</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">id_thickness</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">draw_points</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># pylint: disable=redefined-outer-name</span>
    <span class="n">color_by_label</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">draw_labels</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">label_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    **Deprecated** use [`draw_points`][norfair.drawing.draw_points.draw_points]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">warn_once</span><span class="p">(</span><span class="s2">&quot;draw_tracked_objects is deprecated, use draw_points instead&quot;</span><span class="p">)</span>

    <span class="n">frame_scale</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">100</span>
    <span class="k">if</span> <span class="n">radius</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">radius</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">id_size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">id_size</span> <span class="o">=</span> <span class="n">frame_scale</span> <span class="o">/</span> <span class="mi">10</span>
    <span class="k">if</span> <span class="n">id_thickness</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">id_thickness</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">/</span> <span class="mi">5</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">label_size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">label_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">frame_scale</span> <span class="o">/</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

    <span class="c1"># Determine color - default to &quot;by_id&quot; if None</span>
    <span class="n">selected_color</span><span class="p">:</span> <span class="n">ColorLike</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;by_label&quot;</span> <span class="k">if</span> <span class="n">color_by_label</span> <span class="k">else</span> <span class="p">(</span><span class="n">color</span> <span class="k">if</span> <span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;by_id&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Convert id_size to int if it&#39;s a float</span>
    <span class="n">text_size_value</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">label_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">text_size_value</span> <span class="o">=</span> <span class="n">label_size</span>
    <span class="k">elif</span> <span class="n">id_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">text_size_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">id_size</span><span class="p">)</span>

    <span class="n">_draw_points_alias</span><span class="p">(</span>
        <span class="n">frame</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span>
        <span class="n">drawables</span><span class="o">=</span><span class="n">objects</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">selected_color</span><span class="p">,</span>
        <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span>
        <span class="n">thickness</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">draw_labels</span><span class="o">=</span><span class="n">draw_labels</span><span class="p">,</span>
        <span class="n">draw_ids</span><span class="o">=</span><span class="n">id_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">draw_points</span><span class="o">=</span><span class="n">draw_points</span><span class="p">,</span>
        <span class="n">text_size</span><span class="o">=</span><span class="n">text_size_value</span><span class="p">,</span>
        <span class="n">text_thickness</span><span class="o">=</span><span class="n">id_thickness</span><span class="p">,</span>
        <span class="n">text_color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">hide_dead_points</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.get_cutout" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_cutout</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span></code>

<a href="#norfair.get_cutout" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Returns a rectangular cut-out from a set of points on an image</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_cutout</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a rectangular cut-out from a set of points on an image&quot;&quot;&quot;</span>
    <span class="n">max_x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]))</span>
    <span class="n">min_x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]))</span>
    <span class="n">max_y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]))</span>
    <span class="n">min_y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">image</span><span class="p">[</span><span class="n">min_y</span><span class="p">:</span><span class="n">max_y</span><span class="p">,</span> <span class="n">min_x</span><span class="p">:</span><span class="n">max_x</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="norfair.print_objects_as_table" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">print_objects_as_table</span><span class="p">(</span><span class="n">tracked_objects</span><span class="p">)</span></code>

<a href="#norfair.print_objects_as_table" class="headerlink" title="Permanent link">#</a></h2>


    <div class="doc doc-contents ">

        <p>Used for helping in debugging</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>norfair/utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">print_objects_as_table</span><span class="p">(</span><span class="n">tracked_objects</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Used for helping in debugging&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">()</span>
    <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">show_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">header_style</span><span class="o">=</span><span class="s2">&quot;bold magenta&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Id&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Age&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Hit Counter&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Last distance&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
    <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Init Id&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">tracked_objects</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">age</span><span class="p">),</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">hit_counter</span><span class="p">),</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">obj</span><span class="o">.</span><span class="n">last_distance</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">initializing_id</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.tabs"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "dev", "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../js/math.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>